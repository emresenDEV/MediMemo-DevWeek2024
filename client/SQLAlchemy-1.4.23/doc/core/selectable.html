<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

        <title>
            
    
    Selectables, Tables, FROM objects
 &mdash;
    SQLAlchemy 1.4 Documentation

        </title>

        
            <!-- begin iterate through site-imported + sphinx environment css_files -->
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
                <link rel="stylesheet" href="../_static/default.css" type="text/css" />
                <link rel="stylesheet" href="../_static/docs.css" type="text/css" />
                <link rel="stylesheet" href="../_static/changelog.css" type="text/css" />
                <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
            <!-- end iterate through site-imported + sphinx environment css_files -->
        

        

    

    <!-- begin layout.mako headers -->

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
        <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="SQLAlchemy 1.4 Documentation" href="../index.html" />
        <link rel="up" title="SQL Statements and Expressions API" href="expression_api.html" />
        <link rel="next" title="Insert, Updates, Deletes" href="dml.html" />
        <link rel="prev" title="Operator Reference" href="operators.html" />
    <!-- end layout.mako headers -->


    </head>
    <body>
        
















<div id="docs-container">





<div id="docs-top-navigation-container" class="body-background">
<div id="docs-header">
    <div id="docs-version-header">
        Release: <span class="version-num">1.4.23</span>


        | Release Date: August 18, 2021

    </div>

    <h1><a href="../index.html">SQLAlchemy 1.4 Documentation</a></h1>

</div>
</div>

<div id="docs-body-container">

    <div id="fixed-sidebar" class="withsidebar">


        <div id="docs-sidebar-popout">
            <h3><a href="../index.html">SQLAlchemy 1.4 Documentation</a></h3>
            <p id="sidebar-topnav">
                <a href="../contents.html">Contents</a> |
                <a href="../genindex.html">Index</a>
            </p>

            <div id="sidebar-search">
                <form class="search" action="../search.html" method="get">
                  <label>
                  Search terms:
                  <input type="text" placeholder="search..." name="q" size="12" />
                  </label>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </div>

        </div>

        <div id="docs-sidebar">

        <div id="sidebar-banner">
            
        </div>

        <div id="docs-sidebar-inner">

        
        <h3>
            <a href="index.html" title="SQLAlchemy Core">SQLAlchemy Core</a>
        </h3>

        <ul>
<li><span class="link-container"><a class="reference external" href="tutorial.html">SQL Expression Language Tutorial (1.x API)</a></span></li>
<li><span class="link-container"><a class="reference external" href="expression_api.html">SQL Statements and Expressions API</a></span><ul>
<li><span class="link-container"><a class="reference external" href="sqlelement.html">Column Elements and Expressions</a></span></li>
<li><span class="link-container"><a class="reference external" href="operators.html">Operator Reference</a></span></li>
<li class="selected"><span class="link-container"><strong>Selectables, Tables, FROM objects</strong><a class="paramlink headerlink reference internal" href="#">¶</a></span><ul>
<li><span class="link-container"><a class="reference external" href="#selectable-foundational-constructors">Selectable Foundational Constructors</a></span></li>
<li><span class="link-container"><a class="reference external" href="#selectable-modifier-constructors">Selectable Modifier Constructors</a></span></li>
<li><span class="link-container"><a class="reference external" href="#selectable-class-documentation">Selectable Class Documentation</a></span></li>
<li><span class="link-container"><a class="reference external" href="#label-style-constants">Label Style Constants</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="dml.html">Insert, Updates, Deletes</a></span></li>
<li><span class="link-container"><a class="reference external" href="functions.html">SQL and Generic Functions</a></span></li>
<li><span class="link-container"><a class="reference external" href="compiler.html">Custom SQL Constructs and Compilation Extension</a></span></li>
<li><span class="link-container"><a class="reference external" href="serializer.html">Expression Serializer Extension</a></span></li>
<li><span class="link-container"><a class="reference external" href="visitors.html">Visitor and Traversal Utilities</a></span></li>
</ul>
</li>
<li><span class="link-container"><a class="reference external" href="schema.html">Schema Definition Language</a></span></li>
<li><span class="link-container"><a class="reference external" href="types.html">Column and Data Types</a></span></li>
<li><span class="link-container"><a class="reference external" href="engines_connections.html">Engine and Connection Use</a></span></li>
<li><span class="link-container"><a class="reference external" href="api_basics.html">Core API Basics</a></span></li>
<li><span class="link-container"><a class="reference external" href="future.html">SQLAlchemy 2.0 Future (Core)</a></span></li>
</ul>



        </div>

        </div>

    </div>

    

    <div id="docs-body" class="withsidebar core-selectable" >
        
<section id="selectables-tables-from-objects">
<h1>Selectables, Tables, FROM objects<a class="headerlink" href="#selectables-tables-from-objects" title="Permalink to this headline">¶</a></h1>
<p>The term “selectable” refers to any object that rows can be selected from;
in SQLAlchemy, these objects descend from <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> and their
distinguishing feature is their <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a> attribute, which is
a namespace of all the columns contained within the FROM clause (these
elements are themselves <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> subclasses).</p>
<section id="selectable-foundational-constructors">
<span id="id1"></span><h2>Selectable Foundational Constructors<a class="headerlink" href="#selectable-foundational-constructors" title="Permalink to this headline">¶</a></h2>
<p>Top level “FROM clause” and “SELECT” constructors.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.except_"><span class="sig-name descname">except_</span></a>(*selects, **kwargs)</p></td>
<td><p>Return an <code class="docutils literal notranslate"><span class="pre">EXCEPT</span></code> of multiple selectables.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.except_all"><span class="sig-name descname">except_all</span></a>(*selects, **kwargs)</p></td>
<td><p>Return an <code class="docutils literal notranslate"><span class="pre">EXCEPT</span> <span class="pre">ALL</span></code> of multiple selectables.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.exists"><span class="sig-name descname">exists</span></a>(*args, **kwargs)</p></td>
<td><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> construct.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.intersect"><span class="sig-name descname">intersect</span></a>(*selects, **kwargs)</p></td>
<td><p>Return an <code class="docutils literal notranslate"><span class="pre">INTERSECT</span></code> of multiple selectables.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.intersect_all"><span class="sig-name descname">intersect_all</span></a>(*selects, **kwargs)</p></td>
<td><p>Return an <code class="docutils literal notranslate"><span class="pre">INTERSECT</span> <span class="pre">ALL</span></code> of multiple selectables.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.select"><span class="sig-name descname">select</span></a>(*args, **kw)</p></td>
<td><p>Create a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> using either the 1.x or 2.0 constructor
style.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.table"><span class="sig-name descname">table</span></a>(name, *columns, **kw)</p></td>
<td><p>Produce a new <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.union"><span class="sig-name descname">union</span></a>(*selects, **kwargs)</p></td>
<td><p>Return a <code class="docutils literal notranslate"><span class="pre">UNION</span></code> of multiple selectables.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.union_all"><span class="sig-name descname">union_all</span></a>(*selects, **kwargs)</p></td>
<td><p>Return a <code class="docutils literal notranslate"><span class="pre">UNION</span> <span class="pre">ALL</span></code> of multiple selectables.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.values"><span class="sig-name descname">values</span></a>(*columns, **kw)</p></td>
<td><p>Construct a <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a> construct.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.except_">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">except_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selects</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.except_" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <code class="docutils literal notranslate"><span class="pre">EXCEPT</span></code> of multiple selectables.</p>
<p>The returned object is an instance of
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.except_.params.*selects"></span><strong>*selects</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.except_.params.*selects">¶</a> – a list of <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> instances.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.except_.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.except_.params.**kwargs">¶</a> – available keyword arguments are the same as those of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.except_all">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">except_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selects</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.except_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <code class="docutils literal notranslate"><span class="pre">EXCEPT</span> <span class="pre">ALL</span></code> of multiple selectables.</p>
<p>The returned object is an instance of
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.except_all.params.*selects"></span><strong>*selects</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.except_all.params.*selects">¶</a> – a list of <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> instances.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.except_all.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.except_all.params.**kwargs">¶</a> – available keyword arguments are the same as those of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.exists">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> construct.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.exists" title="sqlalchemy.sql.expression.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">exists()</span></code></a> can be invoked by itself to produce an
<a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> construct, which will accept simple WHERE
criteria:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exists_criteria</span> <span class="o">=</span> <span class="n">exists</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col1</span> <span class="o">==</span> <span class="n">table2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col2</span><span class="p">)</span></pre></div>
</div>
<p>However, for greater flexibility in constructing the SELECT, an
existing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> construct may be converted to an
<a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a>, most conveniently by making use of the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exists" title="sqlalchemy.sql.expression.SelectBase.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.exists()</span></code></a> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exists_criteria</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">select</span><span class="p">(</span><span class="n">table2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col2</span><span class="p">)</span><span class="o">.</span>
    <span class="n">where</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col1</span> <span class="o">==</span> <span class="n">table2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col2</span><span class="p">)</span><span class="o">.</span>
    <span class="n">exists</span><span class="p">()</span>
<span class="p">)</span></pre></div>
</div>
<p>The EXISTS criteria is then used inside of an enclosing SELECT:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">col1</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">exists_criteria</span><span class="p">)</span></pre></div>
</div>
<p>The above statement will then be of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">col1</span> <span class="n">FROM</span> <span class="n">table1</span> <span class="n">WHERE</span> <span class="n">EXISTS</span>
<span class="p">(</span><span class="n">SELECT</span> <span class="n">table2</span><span class="o">.</span><span class="n">col2</span> <span class="n">FROM</span> <span class="n">table2</span> <span class="n">WHERE</span> <span class="n">table2</span><span class="o">.</span><span class="n">col2</span> <span class="o">=</span> <span class="n">table1</span><span class="o">.</span><span class="n">col1</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-exists"><span class="std std-ref">EXISTS subqueries</span></a> - in the <a class="reference internal" href="../glossary.html#term-2.0-style"><span class="xref std std-term">2.0 style</span></a> tutorial.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.intersect">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">intersect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selects</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <code class="docutils literal notranslate"><span class="pre">INTERSECT</span></code> of multiple selectables.</p>
<p>The returned object is an instance of
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.intersect.params.*selects"></span><strong>*selects</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.intersect.params.*selects">¶</a> – a list of <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> instances.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.intersect.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.intersect.params.**kwargs">¶</a> – available keyword arguments are the same as those of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.intersect_all">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">intersect_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selects</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.intersect_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <code class="docutils literal notranslate"><span class="pre">INTERSECT</span> <span class="pre">ALL</span></code> of multiple selectables.</p>
<p>The returned object is an instance of
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.intersect_all.params.*selects"></span><strong>*selects</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.intersect_all.params.*selects">¶</a> – a list of <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> instances.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.intersect_all.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.intersect_all.params.**kwargs">¶</a> – available keyword arguments are the same as those of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.select">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> using either the 1.x or 2.0 constructor
style.</p>
<p>For the legacy calling style, see <a class="reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select" title="sqlalchemy.sql.expression.Select.create_legacy_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.create_legacy_select()</span></code></a>.
If the first argument passed is a Python sequence or if keyword
arguments are present, this style is used.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0: </span>- the <a class="reference internal" href="future.html#sqlalchemy.future.select" title="sqlalchemy.future.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct is
the same construct as the one returned by
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>, except that the function only
accepts the “columns clause” entities up front; the rest of the
state of the SELECT should be built up using generative methods.</p>
</div>
<p>Similar functionality is also available via the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.select" title="sqlalchemy.sql.expression.FromClause.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.select()</span></code></a> method on any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#coretutorial-selecting"><span class="std std-ref">Selecting</span></a> - Core Tutorial description of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.select.params.*entities"></span><strong>*entities</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.select.params.*entities">¶</a> – <p>Entities to SELECT from.  For Core usage, this is typically a series
of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> and / or
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
objects which will form the columns clause of the resulting
statement.   For those objects that are instances of
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> (typically <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
or <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
objects), the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a>
collection is extracted
to form a collection of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> objects.</p>
<p>This parameter will also accept <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a>
constructs as given, as well as ORM-mapped classes.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.table">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.table" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a new <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>.</p>
<p>The object returned is an instance of
<a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>, which
represents the “syntactical” portion of the schema-level
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object.
It may be used to construct lightweight table constructs.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.0: </span><a class="reference internal" href="#sqlalchemy.sql.expression.table" title="sqlalchemy.sql.expression.table"><code class="xref py py-func docutils literal notranslate"><span class="pre">table()</span></code></a> can now
be imported from the plain <code class="docutils literal notranslate"><span class="pre">sqlalchemy</span></code> namespace like any
other SQL element.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.table.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.table.params.name">¶</a> – Name of the table.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.table.params.columns"></span><strong>columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.table.params.columns">¶</a> – A collection of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a> constructs.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.table.params.schema"></span><strong>schema</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.table.params.schema">¶</a> – <p>The schema name for this table.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.18: </span><a class="reference internal" href="#sqlalchemy.sql.expression.table" title="sqlalchemy.sql.expression.table"><code class="xref py py-func docutils literal notranslate"><span class="pre">table()</span></code></a> can now
accept a <code class="docutils literal notranslate"><span class="pre">schema</span></code> argument.</p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.union">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selects</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">UNION</span></code> of multiple selectables.</p>
<p>The returned object is an instance of
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>.</p>
<p>A similar <a class="reference internal" href="#sqlalchemy.sql.expression.union" title="sqlalchemy.sql.expression.union"><code class="xref py py-func docutils literal notranslate"><span class="pre">union()</span></code></a> method is available on all
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.union.params.*selects"></span><strong>*selects</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.union.params.*selects">¶</a> – a list of <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> instances.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.union.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.union.params.**kwargs">¶</a> – available keyword arguments are the same as those of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.union_all">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">union_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selects</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.union_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">UNION</span> <span class="pre">ALL</span></code> of multiple selectables.</p>
<p>The returned object is an instance of
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>.</p>
<p>A similar <a class="reference internal" href="#sqlalchemy.sql.expression.union_all" title="sqlalchemy.sql.expression.union_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">union_all()</span></code></a> method is available on all
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.union_all.params.*selects"></span><strong>*selects</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.union_all.params.*selects">¶</a> – a list of <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> instances.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.union_all.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.union_all.params.**kwargs">¶</a> – available keyword arguments are the same as those of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.values">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a> construct.</p>
<p>The column expressions and the actual data for
<a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a> are given in two separate steps.  The
constructor receives the column expressions typically as
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a> constructs,
and the data is then passed via the
<a class="reference internal" href="#sqlalchemy.sql.expression.Values.data" title="sqlalchemy.sql.expression.Values.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Values.data()</span></code></a> method as a list,
which can be called multiple
times to add more data, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">column</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">values</span>

<span class="n">value_expr</span> <span class="o">=</span> <span class="n">values</span><span class="p">(</span>
    <span class="n">column</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">column</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_values&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">(</span>
    <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;name1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;name2&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;name3&#39;</span><span class="p">)]</span>
<span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.values.params.*columns"></span><strong>*columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.values.params.*columns">¶</a> – column expressions, typically composed using
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a> objects.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.values.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.values.params.name">¶</a> – the name for this VALUES construct.  If omitted, the
VALUES construct will be unnamed in a SQL expression.   Different
backends may have different requirements here.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.values.params.literal_binds"></span><strong>literal_binds</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.values.params.literal_binds">¶</a> – Defaults to False.  Whether or not to render
the data values inline in the SQL output, rather than using bound
parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="selectable-modifier-constructors">
<span id="fromclause-modifier-constructors"></span><h2>Selectable Modifier Constructors<a class="headerlink" href="#selectable-modifier-constructors" title="Permalink to this headline">¶</a></h2>
<p>Functions listed here are more commonly available as methods from
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a> elements, for example,
the <a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a> function is usually invoked via the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a> method.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.alias"><span class="sig-name descname">alias</span></a>(selectable[, name, flat])</p></td>
<td><p>Return an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> object.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.cte"><span class="sig-name descname">cte</span></a>(selectable[, name, recursive])</p></td>
<td><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a>,
or Common Table Expression instance.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.join"><span class="sig-name descname">join</span></a>(left, right[, onclause, isouter, ...])</p></td>
<td><p>Produce a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> object, given two
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
expressions.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.lateral"><span class="sig-name descname">lateral</span></a>(selectable[, name])</p></td>
<td><p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> object.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.outerjoin"><span class="sig-name descname">outerjoin</span></a>(left, right[, onclause, full])</p></td>
<td><p>Return an <code class="docutils literal notranslate"><span class="pre">OUTER</span> <span class="pre">JOIN</span></code> clause element.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.tablesample"><span class="sig-name descname">tablesample</span></a>(selectable, sampling[, name, seed])</p></td>
<td><p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.TableSample" title="sqlalchemy.sql.expression.TableSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableSample</span></code></a> object.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.alias">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selectable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> object.</p>
<p>An <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> represents any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
with an alternate name assigned within SQL, typically using the <code class="docutils literal notranslate"><span class="pre">AS</span></code>
clause when generated, e.g. <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">table</span> <span class="pre">AS</span> <span class="pre">aliasname</span></code>.</p>
<p>Similar functionality is available via the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>
method available on all <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> subclasses.
In terms of
a SELECT object as generated from the <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
function, the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.alias" title="sqlalchemy.sql.expression.SelectBase.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.alias()</span></code></a> method returns an
<a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> or similar object which represents a named,
parenthesized subquery.</p>
<p>When an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> is created from a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object,
this has the effect of the table being rendered
as <code class="docutils literal notranslate"><span class="pre">tablename</span> <span class="pre">AS</span> <span class="pre">aliasname</span></code> in a SELECT statement.</p>
<p>For <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> objects, the effect is that of
creating a named subquery, i.e. <code class="docutils literal notranslate"><span class="pre">(select</span> <span class="pre">...)</span> <span class="pre">AS</span> <span class="pre">aliasname</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter is optional, and provides the name
to use in the rendered SQL.  If blank, an “anonymous” name
will be deterministically generated at compile time.
Deterministic means the name is guaranteed to be unique against
other constructs used in the same statement, and will also be the
same name for each successive compilation of the same statement
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.alias.params.selectable"></span><strong>selectable</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.alias.params.selectable">¶</a> – any <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> subclass,
such as a table, select statement, etc.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.alias.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.alias.params.name">¶</a> – string name to be assigned as the alias.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, a name will be deterministically generated
at compile time.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.alias.params.flat"></span><strong>flat</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.alias.params.flat">¶</a> – Will be passed through to if the given selectable
is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> - see
<a class="reference internal" href="#sqlalchemy.sql.expression.Join.alias" title="sqlalchemy.sql.expression.Join.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Join.alias()</span></code></a>
for details.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.cte">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selectable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.cte" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a>,
or Common Table Expression instance.</p>
<p>Please see <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a> for detail on CTE usage.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.join">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> object, given two
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
expressions.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">j</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">user_table</span><span class="p">,</span> <span class="n">address_table</span><span class="p">,</span>
         <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></pre></div>
</div>
<p>would emit SQL along the lines of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">user</span>
<span class="n">JOIN</span> <span class="n">address</span> <span class="n">ON</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="n">user_id</span></pre></div>
</div>
<p>Similar functionality is available given any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object (e.g. such as a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>) using
the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.join.params.left"></span><strong>left</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.join.params.left">¶</a> – The left side of the join.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.join.params.right"></span><strong>right</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.join.params.right">¶</a> – the right side of the join; this is any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object such as a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, and
may also be a selectable-compatible object such as an ORM-mapped
class.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.join.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.join.params.onclause">¶</a> – a SQL expression representing the ON clause of the
join.  If left at <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a>
will attempt to
join the two tables based on a foreign key relationship.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.join.params.isouter"></span><strong>isouter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.join.params.isouter">¶</a> – if True, render a LEFT OUTER JOIN, instead of JOIN.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.join.params.full"></span><strong>full</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.join.params.full">¶</a> – <p>if True, render a FULL OUTER JOIN, instead of JOIN.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a> - method form,
based on a given left side.</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> - the type of object produced.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.lateral">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selectable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.lateral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> object.</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> is an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
subclass that represents
a subquery with the LATERAL keyword applied to it.</p>
<p>The special behavior of a LATERAL subquery is that it appears in the
FROM clause of an enclosing SELECT, but may correlate to other
FROM clauses of that SELECT.   It is a special case of subquery
only supported by a small number of backends, currently more recent
PostgreSQL versions.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#lateral-selects"><span class="std std-ref">LATERAL correlation</span></a> -  overview of usage.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.outerjoin">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">outerjoin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.outerjoin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <code class="docutils literal notranslate"><span class="pre">OUTER</span> <span class="pre">JOIN</span></code> clause element.</p>
<p>The returned object is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>.</p>
<p>Similar functionality is also available via the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.outerjoin" title="sqlalchemy.sql.expression.FromClause.outerjoin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.outerjoin()</span></code></a> method on any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.outerjoin.params.left"></span><strong>left</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.outerjoin.params.left">¶</a> – The left side of the join.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.outerjoin.params.right"></span><strong>right</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.outerjoin.params.right">¶</a> – The right side of the join.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.outerjoin.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.outerjoin.params.onclause">¶</a> – Optional criterion for the <code class="docutils literal notranslate"><span class="pre">ON</span></code> clause, is
derived from foreign key relationships established between
left and right otherwise.</p></li>
</ul>
</dd>
</dl>
<p>To chain joins together, use the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a>
or
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.outerjoin" title="sqlalchemy.sql.expression.FromClause.outerjoin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.outerjoin()</span></code></a> methods on the resulting
<a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.tablesample">
<em class="property"><span class="pre">function</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">tablesample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selectable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.tablesample" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.TableSample" title="sqlalchemy.sql.expression.TableSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableSample</span></code></a> object.</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.TableSample" title="sqlalchemy.sql.expression.TableSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableSample</span></code></a> is an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
subclass that represents
a table with the TABLESAMPLE clause applied to it.
<a class="reference internal" href="#sqlalchemy.sql.expression.tablesample" title="sqlalchemy.sql.expression.tablesample"><code class="xref py py-func docutils literal notranslate"><span class="pre">tablesample()</span></code></a>
is also available from the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
class via the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.tablesample" title="sqlalchemy.sql.expression.FromClause.tablesample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.tablesample()</span></code></a> method.</p>
<p>The TABLESAMPLE clause allows selecting a randomly selected approximate
percentage of rows from a table. It supports multiple sampling methods,
most commonly BERNOULLI and SYSTEM.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">func</span>

<span class="n">selectable</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">tablesample</span><span class="p">(</span>
            <span class="n">func</span><span class="o">.</span><span class="n">bernoulli</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;alias&#39;</span><span class="p">,</span>
            <span class="n">seed</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">selectable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">people_id</span><span class="p">)</span></pre></div>
</div>
<p>Assuming <code class="docutils literal notranslate"><span class="pre">people</span></code> with a column <code class="docutils literal notranslate"><span class="pre">people_id</span></code>, the above
statement would render as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">alias</span><span class="o">.</span><span class="n">people_id</span> <span class="n">FROM</span>
<span class="n">people</span> <span class="n">AS</span> <span class="n">alias</span> <span class="n">TABLESAMPLE</span> <span class="n">bernoulli</span><span class="p">(:</span><span class="n">bernoulli_1</span><span class="p">)</span>
<span class="n">REPEATABLE</span> <span class="p">(</span><span class="n">random</span><span class="p">())</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.tablesample.params.sampling"></span><strong>sampling</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.tablesample.params.sampling">¶</a> – a <code class="docutils literal notranslate"><span class="pre">float</span></code> percentage between 0 and 100 or
<a class="reference internal" href="functions.html#sqlalchemy.sql.functions.Function" title="sqlalchemy.sql.functions.Function"><code class="xref py py-class docutils literal notranslate"><span class="pre">Function</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.tablesample.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.tablesample.params.name">¶</a> – optional alias name</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.tablesample.params.seed"></span><strong>seed</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.tablesample.params.seed">¶</a> – any real-valued SQL expression.  When specified, the
REPEATABLE sub-clause is also rendered.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="selectable-class-documentation">
<h2>Selectable Class Documentation<a class="headerlink" href="#selectable-class-documentation" title="Permalink to this headline">¶</a></h2>
<p>The classes here are generated using the constructors listed at
<a class="reference internal" href="#selectable-foundational-constructors"><span class="std std-ref">Selectable Foundational Constructors</span></a> and
<a class="reference internal" href="#fromclause-modifier-constructors"><span class="std std-ref">Selectable Modifier Constructors</span></a>.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Alias"><span class="sig-name descname">Alias</span></a></p></td>
<td><p>Represents an table or selectable alias (AS).</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows"><span class="sig-name descname">AliasedReturnsRows</span></a></p></td>
<td><p>Base class of aliases against tables, subqueries, and other
selectables.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect"><span class="sig-name descname">CompoundSelect</span></a></p></td>
<td><p>Forms the basis of <code class="docutils literal notranslate"><span class="pre">UNION</span></code>, <code class="docutils literal notranslate"><span class="pre">UNION</span> <span class="pre">ALL</span></code>, and other
SELECT-based set operations.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.CTE"><span class="sig-name descname">CTE</span></a></p></td>
<td><p>Represent a Common Table Expression.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable"><span class="sig-name descname">Executable</span></a></p></td>
<td><p>Mark a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> as supporting execution.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Exists"><span class="sig-name descname">Exists</span></a></p></td>
<td><p>Represent an <code class="docutils literal notranslate"><span class="pre">EXISTS</span></code> clause.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><span class="sig-name descname">FromClause</span></a></p></td>
<td><p>Represent an element that can be used within the <code class="docutils literal notranslate"><span class="pre">FROM</span></code>
clause of a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><span class="sig-name descname">GenerativeSelect</span></a></p></td>
<td><p>Base class for SELECT statements where additional elements can be
added.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE"><span class="sig-name descname">HasCTE</span></a></p></td>
<td><p>Mixin that declares a class to include CTE support.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes"><span class="sig-name descname">HasPrefixes</span></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes"><span class="sig-name descname">HasSuffixes</span></a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><span class="sig-name descname">Join</span></a></p></td>
<td><p>Represent a <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> construct between two
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
elements.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Lateral"><span class="sig-name descname">Lateral</span></a></p></td>
<td><p>Represent a LATERAL subquery.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows"><span class="sig-name descname">ReturnsRows</span></a></p></td>
<td><p>The base-most class for Core constructs that have some concept of
columns that can represent rows.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect"><span class="sig-name descname">ScalarSelect</span></a></p></td>
<td><p>Represent a scalar subquery.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><span class="sig-name descname">Select</span></a></p></td>
<td><p>Represents a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable"><span class="sig-name descname">Selectable</span></a></p></td>
<td><p>Mark a class as being selectable.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><span class="sig-name descname">SelectBase</span></a></p></td>
<td><p>Base class for SELECT statements.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Subquery"><span class="sig-name descname">Subquery</span></a></p></td>
<td><p>Represent a subquery of a SELECT.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><span class="sig-name descname">TableClause</span></a></p></td>
<td><p>Represents a minimal “table” construct.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.TableSample"><span class="sig-name descname">TableSample</span></a></p></td>
<td><p>Represent a TABLESAMPLE clause.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias"><span class="sig-name descname">TableValuedAlias</span></a></p></td>
<td><p>An alias against a “table valued” SQL function.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><span class="sig-name descname">TextualSelect</span></a></p></td>
<td><p>Wrap a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> construct within a
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
interface.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.Values"><span class="sig-name descname">Values</span></a></p></td>
<td><p>Represent a <code class="docutils literal notranslate"><span class="pre">VALUES</span></code> construct that can be used as a FROM element
in a statement.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Alias">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an table or selectable alias (AS).</p>
<p>Represents an alias, as typically applied to any table or
sub-select within a SQL statement using the <code class="docutils literal notranslate"><span class="pre">AS</span></code> keyword (or
without the keyword on certain databases such as Oracle).</p>
<p>This object is constructed from the <a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a> module
level function as well as the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>
method available
on all <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> subclasses.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Alias</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.DMLTableRole</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows" title="sqlalchemy.sql.expression.AliasedReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.AliasedReturnsRows">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">AliasedReturnsRows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.AliasedReturnsRows" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class of aliases against tables, subqueries, and other
selectables.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows" title="sqlalchemy.sql.expression.AliasedReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.NoInit</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause</span></code></a>)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.AliasedReturnsRows.description">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows.</span></code></a><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.AliasedReturnsRows.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.AliasedReturnsRows.is_derived_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows.</span></code></a><span class="sig-name descname"><span class="pre">is_derived_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fromclause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.AliasedReturnsRows.is_derived_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> is
‘derived’ from the given <code class="docutils literal notranslate"><span class="pre">FromClause</span></code>.</p>
<p>An example would be an Alias of a Table is derived from that Table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.AliasedReturnsRows.original">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows.</span></code></a><span class="sig-name descname"><span class="pre">original</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.AliasedReturnsRows.original" title="Permalink to this definition">¶</a></dt>
<dd><p>Legacy for dialects that are referring to Alias.original.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.CompoundSelect">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">CompoundSelect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selects</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.CompoundSelect" title="Permalink to this definition">¶</a></dt>
<dd><p>Forms the basis of <code class="docutils literal notranslate"><span class="pre">UNION</span></code>, <code class="docutils literal notranslate"><span class="pre">UNION</span> <span class="pre">ALL</span></code>, and other
SELECT-based set operations.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.union" title="sqlalchemy.sql.expression.union"><code class="xref py py-func docutils literal notranslate"><span class="pre">union()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.union_all" title="sqlalchemy.sql.expression.union_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">union_all()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.intersect" title="sqlalchemy.sql.expression.intersect"><code class="xref py py-func docutils literal notranslate"><span class="pre">intersect()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.intersect_all" title="sqlalchemy.sql.expression.intersect_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">intersect_all()</span></code></a></p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">except()</span></code></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.except_all" title="sqlalchemy.sql.expression.except_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">except_all()</span></code></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.CompoundSelect</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCompileState</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect</span></code></a>)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.CompoundSelect.bind">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.CompoundSelect.</span></code></a><span class="sig-name descname"><span class="pre">bind</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.CompoundSelect.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>
to which this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a> is bound, or None if none found.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> attribute is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Bound metadata is being removed as of SQLAlchemy 2.0. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.CompoundSelect.selected_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.CompoundSelect.</span></code></a><span class="sig-name descname"><span class="pre">selected_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.CompoundSelect.selected_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
representing the columns that
this SELECT statement or similar construct returns in its result set,
not including <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> constructs.</p>
<p>For a <a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>, the
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect.selected_columns" title="sqlalchemy.sql.expression.CompoundSelect.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CompoundSelect.selected_columns</span></code></a>
attribute returns the selected
columns of the first SELECT statement contained within the series of
statements within the set operation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.selected_columns" title="sqlalchemy.sql.expression.Select.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.selected_columns</span></code></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.CompoundSelect.self_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.CompoundSelect.</span></code></a><span class="sig-name descname"><span class="pre">self_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">against</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.CompoundSelect.self_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a ‘grouping’ to this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>This method is overridden by subclasses to return a “grouping”
construct, i.e. parenthesis.   In particular it’s used by “binary”
expressions to provide a grouping around themselves when placed into a
larger expression, as well as by <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
constructs when placed into the FROM clause of another
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.  (Note that subqueries should be
normally created using the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.alias()</span></code></a> method,
as many
platforms require nested SELECT statements to be named).</p>
<p>As expressions are composed together, the application of
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect.self_group" title="sqlalchemy.sql.expression.CompoundSelect.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> is automatic - end-user code should never
need to use this method directly.  Note that SQLAlchemy’s
clause constructs take operator precedence into account -
so parenthesis might not be needed, for example, in
an expression like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence
over OR.</p>
<p>The base <a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect.self_group" title="sqlalchemy.sql.expression.CompoundSelect.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> method of
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
just returns self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.CTE">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">CTE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.CTE" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a Common Table Expression.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> object is obtained using the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.cte" title="sqlalchemy.sql.expression.SelectBase.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.cte()</span></code></a> method from any SELECT statement. A less often
available syntax also allows use of the <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a> method
present on <a class="reference internal" href="../glossary.html#term-DML"><span class="xref std std-term">DML</span></a> constructs such as <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.Insert" title="sqlalchemy.sql.expression.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a>,
<a class="reference internal" href="dml.html#sqlalchemy.sql.expression.Update" title="sqlalchemy.sql.expression.Update"><code class="xref py py-class docutils literal notranslate"><span class="pre">Update</span></code></a> and
<a class="reference internal" href="dml.html#sqlalchemy.sql.expression.Delete" title="sqlalchemy.sql.expression.Delete"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delete</span></code></a>.   See the <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a> method for
usage details on CTEs.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-subqueries-ctes"><span class="std std-ref">Subqueries and CTEs</span></a> - in the 2.0 tutorial</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a> - examples of calling styles</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.CTE</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.DMLTableRole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.IsCTERole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Generative</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasPrefixes</span></code></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes" title="sqlalchemy.sql.expression.HasSuffixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasSuffixes</span></code></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows" title="sqlalchemy.sql.expression.AliasedReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.CTE.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.CTE"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.CTE.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.CTE.alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> of this
<a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a>.</p>
<p>This method is a CTE-specific specialization of the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a> method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#core-tutorial-aliases"><span class="std std-ref">Using Aliases and Subqueries</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Executable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Executable</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Executable" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> as supporting execution.</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a> is a superclass for all “statement” types
of objects, including <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>, <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete()</span></code></a>, <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a>,
<a class="reference internal" href="dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a>, <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.StatementRole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Generative</span></code>)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Executable.bind">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Executable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable.</span></code></a><span class="sig-name descname"><span class="pre">bind</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Executable.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>
to
which this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a> is bound, or None if none found.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> attribute is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Bound metadata is being removed as of SQLAlchemy 2.0. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
<p>This is a traversal which checks locally, then
checks among the “from” clauses of associated objects
until a bound engine or connection is found.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Executable.execute">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Executable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable.</span></code></a><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Executable.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execute()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. All statement execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Executable.execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Executable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable.</span></code></a><span class="sig-name descname"><span class="pre">execution_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Executable.execution_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Set non-SQL options for the statement which take effect during
execution.</p>
<p>Execution options can be set on a per-statement or
per <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> basis.   Additionally, the
<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> and ORM <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
objects provide
access to execution options which they in turn configure upon
connections.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> method is generative.  A new
instance of this statement is returned that contains the options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Note that only a subset of possible execution options can be applied
to a statement - these include “autocommit” and “stream_results”,
but not “isolation_level” or “compiled_cache”.
See <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a> for a full list of
possible options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a></p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.execution_options" title="sqlalchemy.orm.Query.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.execution_options()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="sqlalchemy.sql.expression.Executable.get_execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.get_execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Executable.get_execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Executable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable.</span></code></a><span class="sig-name descname"><span class="pre">get_execution_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the non-SQL options which will take effect during execution.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Executable.options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Executable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable.</span></code></a><span class="sig-name descname"><span class="pre">options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Executable.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply options to this statement.</p>
<p>In the general sense, options are any kind of Python object
that can be interpreted by the SQL compiler for the statement.
These options can be consumed by specific dialects or specific kinds
of compilers.</p>
<p>The most commonly known kind of option are the ORM level options
that apply “eager load” and other loading behaviors to an ORM
query.   However, options can theoretically be used for many other
purposes.</p>
<p>For background on specific kinds of options for specific kinds of
statements, refer to the documentation for those option objects.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>- added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Generative.options()</span></code> to
Core statement objects towards the goal of allowing unified
Core / ORM querying capabilities.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/loading_columns.html#deferred-options"><span class="std std-ref">Deferred Column Loader Query Options</span></a> - refers to options specific to the usage
of ORM queries</p>
<p><a class="reference internal" href="../orm/loading_relationships.html#relationship-loader-options"><span class="std std-ref">Relationship Loading with Loader Options</span></a> - refers to options specific
to the usage of ORM queries</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Executable.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Executable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable.</span></code></a><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Executable.scalar" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>, returning the
result’s scalar representation.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.scalar()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Scalar execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.scalar" title="sqlalchemy.engine.Connection.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.scalar()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.scalar" title="sqlalchemy.orm.Session.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalar()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Exists">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent an <code class="docutils literal notranslate"><span class="pre">EXISTS</span></code> clause.</p>
<p>See <a class="reference internal" href="#sqlalchemy.sql.expression.exists" title="sqlalchemy.sql.expression.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">exists()</span></code></a> for a description of usage.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Exists</span></code></a> (<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.UnaryExpression" title="sqlalchemy.sql.expression.UnaryExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.UnaryExpression</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Exists.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Exists"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Exists.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Exists.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> object.</p>
<p>This constructor is mirrored as a public API function; see <a class="reference internal" href="#sqlalchemy.sql.expression.exists" title="sqlalchemy.sql.expression.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.exists()</span></code></a> for a full usage and argument description.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Exists.correlate">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Exists"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Exists.</span></code></a><span class="sig-name descname"><span class="pre">correlate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fromclause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Exists.correlate" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply correlation to the subquery noted by this <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate" title="sqlalchemy.sql.expression.ScalarSelect.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ScalarSelect.correlate()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Exists.correlate_except">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Exists"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Exists.</span></code></a><span class="sig-name descname"><span class="pre">correlate_except</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fromclause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Exists.correlate_except" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply correlation to the subquery noted by this <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate_except" title="sqlalchemy.sql.expression.ScalarSelect.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ScalarSelect.correlate_except()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Exists.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Exists"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Exists.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">whereclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Exists.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SELECT of this <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a>.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">exists</span><span class="p">(</span><span class="n">some_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">some_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">()</span></pre></div>
</div>
<p>This will produce a statement resembling:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">EXISTS</span> <span class="p">(</span><span class="n">SELECT</span> <span class="nb">id</span> <span class="n">FROM</span> <span class="n">some_table</span> <span class="n">WHERE</span> <span class="n">some_table</span> <span class="o">=</span> <span class="p">:</span><span class="n">param</span><span class="p">)</span> <span class="n">AS</span> <span class="n">anon_1</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Exists.select.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Exists.select.params.whereclause">¶</a> – <p>a WHERE clause, equivalent to calling the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> method.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Exists.select.params.whereclause" title="sqlalchemy.sql.expression.Exists.select"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Exists.select().whereclause</span></code></a> parameter is deprecated and will be removed in version 2.0.  Please make use of the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> method to add WHERE criteria to the SELECT statement.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Exists.select.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Exists.select.params.**kwargs">¶</a> – <p>additional keyword arguments are passed to the
legacy constructor for <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> described at
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select" title="sqlalchemy.sql.expression.Select.create_legacy_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.create_legacy_select()</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Exists.select" title="sqlalchemy.sql.expression.Exists.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Exists.select()</span></code></a> method will no longer accept keyword arguments in version 2.0.  Please use generative methods from the <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> construct in order to apply additional modifications.</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> - general purpose
method which allows for arbitrary column lists.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Exists.select_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Exists"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Exists.</span></code></a><span class="sig-name descname"><span class="pre">select_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">froms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Exists.select_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> construct,
applying the given
expression to the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.select_from" title="sqlalchemy.sql.expression.Select.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_from()</span></code></a>
method of the select
statement contained.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>it is typically preferable to build a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
statement first, including the desired WHERE clause, then use the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exists" title="sqlalchemy.sql.expression.SelectBase.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.exists()</span></code></a> method to produce an
<a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> object at once.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Exists.where">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Exists"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Exists.</span></code></a><span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Exists.where" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.exists" title="sqlalchemy.sql.expression.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">exists()</span></code></a> construct with the
given expression added to
its WHERE clause, joined to the existing clause via AND, if any.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>it is typically preferable to build a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
statement first, including the desired WHERE clause, then use the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exists" title="sqlalchemy.sql.expression.SelectBase.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.exists()</span></code></a> method to produce an
<a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> object at once.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">FromClause</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent an element that can be used within the <code class="docutils literal notranslate"><span class="pre">FROM</span></code>
clause of a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement.</p>
<p>The most common forms of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> are the
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> and the <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> constructs.  Key
features common to all <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> objects include:</p>
<ul class="simple">
<li><p>a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">c</span></code></a> collection, which provides per-name access to a collection
of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> objects.</p></li>
<li><p>a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.primary_key" title="sqlalchemy.sql.expression.FromClause.primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">primary_key</span></code></a> attribute, which is a collection of all those
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
objects that indicate the <code class="docutils literal notranslate"><span class="pre">primary_key</span></code> flag.</p></li>
<li><p>Methods to generate various derivations of a “from” clause, including
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.select" title="sqlalchemy.sql.expression.FromClause.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.select()</span></code></a>.</p></li>
</ul>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.AnonymizedFromClauseRole</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Selectable</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a2</span> <span class="o">=</span> <span class="n">some_table</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span></pre></div>
</div>
<p>The above code creates an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object which can be used
as a FROM clause in any SELECT statement.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#core-tutorial-aliases"><span class="std std-ref">Using Aliases and Subqueries</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.c">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">c</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.c" title="Permalink to this definition">¶</a></dt>
<dd><p>A named-based collection of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
objects maintained by this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a> attribute is an alias for the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a> atttribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A named-based collection of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
objects maintained by this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">columns</span></code></a>, or <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">c</span></code></a> collection, is the gateway
to the construction of SQL expressions using table-bound or
other selectable-bound columns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">somecolumn</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.description">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A brief description of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>Used primarily for error message formatting.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.entity_namespace">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">entity_namespace</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.entity_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a namespace used for name-based access in SQL expressions.</p>
<p>This is the namespace that is used to resolve “filter_by()” type
expressions, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="s1">&#39;some address&#39;</span><span class="p">)</span></pre></div>
</div>
<p>It defaults to the <code class="docutils literal notranslate"><span class="pre">.c</span></code> collection, however internally it can
be overridden using the “entity_namespace” annotation to deliver
alternative results.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.exported_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that represents the “exported”
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p>
<p>The “exported” columns for a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
object are synonymous
with the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a> collection.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exported_columns" title="sqlalchemy.sql.expression.SelectBase.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.exported_columns</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.foreign_keys">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">foreign_keys</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.foreign_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection of <a class="reference internal" href="constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> marker objects
which this FromClause references.</p>
<p>Each <a class="reference internal" href="constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> is a member of a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>-wide
<a class="reference internal" href="constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table.foreign_key_constraints" title="sqlalchemy.schema.Table.foreign_key_constraints"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Table.foreign_key_constraints</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.is_derived_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">is_derived_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fromclause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.is_derived_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> is
‘derived’ from the given <code class="docutils literal notranslate"><span class="pre">FromClause</span></code>.</p>
<p>An example would be an Alias of a Table is derived from that Table.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.join">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> from this
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
to another <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">join</span>

<span class="n">j</span> <span class="o">=</span> <span class="n">user_table</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">address_table</span><span class="p">,</span>
                <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></pre></div>
</div>
<p>would emit SQL along the lines of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">user</span>
<span class="n">JOIN</span> <span class="n">address</span> <span class="n">ON</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="n">user_id</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.join.params.right"></span><strong>right</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.join.params.right">¶</a> – the right side of the join; this is any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object such as a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, and
may also be a selectable-compatible object such as an ORM-mapped
class.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.join.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.join.params.onclause">¶</a> – a SQL expression representing the ON clause of the
join.  If left at <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a>
will attempt to
join the two tables based on a foreign key relationship.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.join.params.isouter"></span><strong>isouter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.join.params.isouter">¶</a> – if True, render a LEFT OUTER JOIN, instead of JOIN.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.join.params.full"></span><strong>full</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.join.params.full">¶</a> – <p>if True, render a FULL OUTER JOIN, instead of LEFT OUTER
JOIN.  Implies <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join.params.isouter" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">FromClause.join.isouter</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.join" title="sqlalchemy.sql.expression.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">join()</span></code></a> - standalone function</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> - the type of object produced</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.outerjoin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">outerjoin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.outerjoin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> from this
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
to another <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>, with the “isouter” flag set to
True.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">outerjoin</span>

<span class="n">j</span> <span class="o">=</span> <span class="n">user_table</span><span class="o">.</span><span class="n">outerjoin</span><span class="p">(</span><span class="n">address_table</span><span class="p">,</span>
                <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span></pre></div>
</div>
<p>The above is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">j</span> <span class="o">=</span> <span class="n">user_table</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="n">address_table</span><span class="p">,</span>
    <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
    <span class="n">isouter</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.outerjoin.params.right"></span><strong>right</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.outerjoin.params.right">¶</a> – the right side of the join; this is any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object such as a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, and
may also be a selectable-compatible object such as an ORM-mapped
class.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.outerjoin.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.outerjoin.params.onclause">¶</a> – a SQL expression representing the ON clause of the
join.  If left at <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a>
will attempt to
join the two tables based on a foreign key relationship.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.outerjoin.params.full"></span><strong>full</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.outerjoin.params.full">¶</a> – <p>if True, render a FULL OUTER JOIN, instead of
LEFT OUTER JOIN.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.primary_key">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">primary_key</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.primary_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the iterable collection of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects
which comprise the primary key of this <code class="xref py py-class docutils literal notranslate"><span class="pre">_selectable.FromClause</span></code>.</p>
<p>For a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, this collection is represented
by the <a class="reference internal" href="constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> which itself is an
iterable collection of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.schema">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">schema</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the ‘schema’ attribute for this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>This is typically <code class="docutils literal notranslate"><span class="pre">None</span></code> for most objects except that of
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>, where it is taken as the value of the
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table.params.schema" title="sqlalchemy.schema.Table"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Table.schema</span></code></a> argument.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">whereclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SELECT of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">some_table</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">some_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.select.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.select.params.whereclause">¶</a> – <p>a WHERE clause, equivalent to calling the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> method.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.select.params.whereclause" title="sqlalchemy.sql.expression.FromClause.select"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">FromClause.select().whereclause</span></code></a> parameter is deprecated and will be removed in version 2.0.  Please make use of the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> method to add WHERE criteria to the SELECT statement.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.FromClause.select.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.FromClause.select.params.**kwargs">¶</a> – additional keyword arguments are passed to the
legacy constructor for <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> described at
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select" title="sqlalchemy.sql.expression.Select.create_legacy_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.create_legacy_select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> - general purpose
method which allows for arbitrary column lists.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.table_valued">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">table_valued</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.table_valued" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedColumn</span></code> object for this
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedColumn</span></code> is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> that
represents a complete row in a table. Support for this construct is
backend dependent, and is supported in various forms by backends
such as PostgreSQL, Oracle and SQL Server.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">row_to_json</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">table_valued</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<span class="go">SELECT row_to_json(a) AS row_to_json_1</span>
<span class="go">FROM a</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions"><span class="std std-ref">Working with SQL Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.FromClause.tablesample">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause.</span></code></a><span class="sig-name descname"><span class="pre">tablesample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampling</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.FromClause.tablesample" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a TABLESAMPLE alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>The return value is the <a class="reference internal" href="#sqlalchemy.sql.expression.TableSample" title="sqlalchemy.sql.expression.TableSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableSample</span></code></a>
construct also
provided by the top-level <a class="reference internal" href="#sqlalchemy.sql.expression.tablesample" title="sqlalchemy.sql.expression.tablesample"><code class="xref py py-func docutils literal notranslate"><span class="pre">tablesample()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.tablesample" title="sqlalchemy.sql.expression.tablesample"><code class="xref py py-func docutils literal notranslate"><span class="pre">tablesample()</span></code></a> - usage guidelines and parameters</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">GenerativeSelect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_label_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">symbol('LABEL_STYLE_DISAMBIGUATE_ONLY')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for SELECT statements where additional elements can be
added.</p>
<p>This serves as the base for <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> and
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>
where elements such as ORDER BY, GROUP BY can be added and column
rendering can be controlled.  Compare to
<a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextualSelect</span></code></a>, which,
while it subclasses <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
and is also a SELECT construct,
represents a fixed textual string which cannot be altered at this level,
only wrapped as a subquery.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.DeprecatedSelectBaseGenerations</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.apply_labels">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">apply_labels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.apply_labels" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.apply_labels" title="sqlalchemy.sql.expression.GenerativeSelect.apply_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.apply_labels()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Use set_label_style(LABEL_STYLE_TABLENAME_PLUS_COL) instead. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.fetch">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">fetch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_ties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new selectable with the given FETCH FIRST criterion
applied.</p>
<p>This is a numeric value which usually renders as
<code class="docutils literal notranslate"><span class="pre">FETCH</span> <span class="pre">{FIRST</span> <span class="pre">|</span> <span class="pre">NEXT}</span> <span class="pre">[</span> <span class="pre">count</span> <span class="pre">]</span> <span class="pre">{ROW</span> <span class="pre">|</span> <span class="pre">ROWS}</span> <span class="pre">{ONLY</span> <span class="pre">|</span> <span class="pre">WITH</span> <span class="pre">TIES}</span></code>
expression in the resulting select. This functionality is
is currently implemented for Oracle, PostgreSQL, MSSQL.</p>
<p>Use <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a> to specify the offset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a> method will replace
any clause applied with <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.fetch.params.count"></span><strong>count</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch.params.count">¶</a> – an integer COUNT parameter, or a SQL expression
that provides an integer result. When <code class="docutils literal notranslate"><span class="pre">percent=True</span></code> this will
represent the percentage of rows to return, not the absolute value.
Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to reset it.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.fetch.params.with_ties"></span><strong>with_ties</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch.params.with_ties">¶</a> – When <code class="docutils literal notranslate"><span class="pre">True</span></code>, the WITH TIES option is used
to return any additional rows that tie for the last place in the
result set according to the <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clause. The
<code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> may be mandatory in this case. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.fetch.params.percent"></span><strong>percent</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch.params.percent">¶</a> – When <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">count</span></code> represents the percentage
of the total number of selected rows to return. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.get_label_style">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">get_label_style</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.get_label_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the current label style.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.group_by">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">group_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.group_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new selectable with the given list of GROUP BY
criterion applied.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">stat</span><span class="p">))</span><span class="o">.</span>\
<span class="n">group_by</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.group_by.params.*clauses"></span><strong>*clauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.group_by.params.*clauses">¶</a> – a series of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
constructs
which will be used to generate an GROUP BY clause.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-group-by-w-aggregates"><span class="std std-ref">Aggregate functions with GROUP BY / HAVING</span></a> - in the
<a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-order-by-label"><span class="std std-ref">Ordering or Grouping by a Label</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.limit">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new selectable with the given LIMIT criterion
applied.</p>
<p>This is a numerical value which usually renders as a <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code>
expression in the resulting select.  Backends that don’t
support <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> will attempt to provide similar
functionality.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a> method will replace
any clause applied with <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.0: </span>- <a class="reference internal" href="#sqlalchemy.sql.expression.Select.limit" title="sqlalchemy.sql.expression.Select.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.limit()</span></code></a> can now
accept arbitrary SQL expressions as well as integer values.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.limit.params.limit"></span><strong>limit</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit.params.limit">¶</a> – an integer LIMIT parameter, or a SQL expression
that provides an integer result. Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to reset it.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.offset">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new selectable with the given OFFSET criterion
applied.</p>
<p>This is a numeric value which usually renders as an <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code>
expression in the resulting select.  Backends that don’t
support <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> will attempt to provide similar
functionality.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.0: </span>- <a class="reference internal" href="#sqlalchemy.sql.expression.Select.offset" title="sqlalchemy.sql.expression.Select.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.offset()</span></code></a> can now
accept arbitrary SQL expressions as well as integer values.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.offset.params.offset"></span><strong>offset</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset.params.offset">¶</a> – an integer OFFSET parameter, or a SQL expression
that provides an integer result. Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to reset it.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.order_by">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">order_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.order_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new selectable with the given list of ORDER BY
criterion applied.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.order_by.params.*clauses"></span><strong>*clauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.order_by.params.*clauses">¶</a> – a series of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
constructs
which will be used to generate an ORDER BY clause.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-order-by"><span class="std std-ref">ORDER BY</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-order-by-label"><span class="std std-ref">Ordering or Grouping by a Label</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.set_label_style">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">set_label_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.set_label_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new selectable with the specified label style.</p>
<p>There are three “label styles” available,
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a>, and
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_NONE" title="sqlalchemy.sql.expression.LABEL_STYLE_NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_NONE</span></code></a>.   The default style is
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a>.</p>
<p>In modern SQLAlchemy, there is not generally a need to change the
labeling style, as per-expression labels are more effectively used by
making use of the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement.label" title="sqlalchemy.sql.expression.ColumnElement.label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnElement.label()</span></code></a> method. In past
versions, <a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a> was used to
disambiguate same-named columns from different tables, aliases, or
subqueries; the newer <a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a> now
applies labels only to names that conflict with an existing name so
that the impact of this labeling is minimal.</p>
<p>The rationale for disambiguation is mostly so that all column
expressions are available from a given <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a>
collection when a subquery is created.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>- the
<a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.set_label_style" title="sqlalchemy.sql.expression.GenerativeSelect.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.set_label_style()</span></code></a> method replaces the
previous combination of <code class="docutils literal notranslate"><span class="pre">.apply_labels()</span></code>, <code class="docutils literal notranslate"><span class="pre">.with_labels()</span></code> and
<code class="docutils literal notranslate"><span class="pre">use_labels=True</span></code> methods and/or parameters.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_NONE" title="sqlalchemy.sql.expression.LABEL_STYLE_NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_NONE</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DEFAULT" title="sqlalchemy.sql.expression.LABEL_STYLE_DEFAULT"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DEFAULT</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.slice">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply LIMIT / OFFSET to this statement based on a slice.</p>
<p>The start and stop indices behave like the argument to Python’s
built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code> function. This method provides an
alternative to using <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code>/<code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> to get a slice of the
query.</p>
<p>For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></pre></div>
</div>
<p>renders as</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">users</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">users_id</span><span class="p">,</span>
       <span class="n">users</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">users_name</span>
<span class="k">FROM</span> <span class="n">users</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">users</span><span class="p">.</span><span class="n">id</span>
<span class="k">LIMIT</span> <span class="o">?</span> <span class="k">OFFSET</span> <span class="o">?</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.slice" title="sqlalchemy.sql.expression.GenerativeSelect.slice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.slice()</span></code></a> method will replace
any clause applied with <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>Added the <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.slice" title="sqlalchemy.sql.expression.GenerativeSelect.slice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.slice()</span></code></a>
method generalized from the ORM.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.GenerativeSelect.with_for_update">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect.</span></code></a><span class="sig-name descname"><span class="pre">with_for_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nowait</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">of</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_locked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_share</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.GenerativeSelect.with_for_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code> clause for this
<a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="o">.</span><span class="n">with_for_update</span><span class="p">(</span><span class="n">nowait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>On a database like PostgreSQL or Oracle, the above would render a
statement like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">b</span> <span class="n">FROM</span> <span class="n">table</span> <span class="n">FOR</span> <span class="n">UPDATE</span> <span class="n">NOWAIT</span></pre></div>
</div>
<p>on other backends, the <code class="docutils literal notranslate"><span class="pre">nowait</span></code> option is ignored and instead
would produce:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">b</span> <span class="n">FROM</span> <span class="n">table</span> <span class="n">FOR</span> <span class="n">UPDATE</span></pre></div>
</div>
<p>When called with no arguments, the statement will render with
the suffix <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>.   Additional arguments can then be
provided which allow for common database-specific
variants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.nowait"></span><strong>nowait</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.nowait">¶</a> – boolean; will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">NOWAIT</span></code> on Oracle
and PostgreSQL dialects.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.read"></span><strong>read</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.read">¶</a> – boolean; will render <code class="docutils literal notranslate"><span class="pre">LOCK</span> <span class="pre">IN</span> <span class="pre">SHARE</span> <span class="pre">MODE</span></code> on MySQL,
<code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span></code> on PostgreSQL.  On PostgreSQL, when combined with
<code class="docutils literal notranslate"><span class="pre">nowait</span></code>, will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span> <span class="pre">NOWAIT</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.of"></span><strong>of</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.of">¶</a> – SQL expression or list of SQL expression elements
(typically <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects or a compatible expression) which
will render into a <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">OF</span></code> clause; supported by PostgreSQL
and Oracle.  May render as a table or as a column depending on
backend.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.skip_locked"></span><strong>skip_locked</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.skip_locked">¶</a> – boolean, will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">SKIP</span> <span class="pre">LOCKED</span></code>
on Oracle and PostgreSQL dialects or <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span> <span class="pre">SKIP</span> <span class="pre">LOCKED</span></code> if
<code class="docutils literal notranslate"><span class="pre">read=True</span></code> is also specified.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.key_share"></span><strong>key_share</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.with_for_update.params.key_share">¶</a> – boolean, will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">NO</span> <span class="pre">KEY</span> <span class="pre">UPDATE</span></code>,
or if combined with <code class="docutils literal notranslate"><span class="pre">read=True</span></code> will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">KEY</span> <span class="pre">SHARE</span></code>,
on the PostgreSQL dialect.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.HasCTE">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">HasCTE</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.HasCTE" title="Permalink to this definition">¶</a></dt>
<dd><p>Mixin that declares a class to include CTE support.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCTE</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.HasCTERole</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.HasCTE.add_cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCTE.</span></code></a><span class="sig-name descname"><span class="pre">add_cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cte</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.HasCTE.add_cte" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> to this statement object that will be
independently rendered even if not referenced in the statement
otherwise.</p>
<p>This feature is useful for the use case of embedding a DML statement
such as an INSERT or UPDATE as a CTE inline with a primary statement
that may draw from its results indirectly; while PostgreSQL is known
to support this usage, it may not be supported by other backends.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c1&#39;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c2&#39;</span><span class="p">))</span>

<span class="n">ins</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">cte</span><span class="p">()</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">ins</span><span class="p">)</span></pre></div>
</div>
<p>Would render:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">anon_1</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(:</span><span class="n">param_1</span><span class="p">,</span> <span class="p">:</span><span class="n">param_2</span><span class="p">))</span>
<span class="n">SELECT</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">c2</span>
<span class="n">FROM</span> <span class="n">t</span></pre></div>
</div>
<p>Above, the “anon_1” CTE is not referred towards in the SELECT
statement, however still accomplishes the task of running an INSERT
statement.</p>
<p>Similarly in a DML-related context, using the PostgreSQL
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.Insert" title="sqlalchemy.dialects.postgresql.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct to generate an “upsert”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.dialects.postgresql</span> <span class="kn">import</span> <span class="n">insert</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c1&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c2&quot;</span><span class="p">))</span>

<span class="n">delete_statement_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;deletions&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">insert_stmt</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">update_statement</span> <span class="o">=</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">on_conflict_do_update</span><span class="p">(</span>
    <span class="n">index_elements</span><span class="o">=</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span><span class="p">],</span>
    <span class="n">set_</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span>
        <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">delete_statement_cte</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">update_statement</span><span class="p">)</span></pre></div>
</div>
<p>The above statement renders as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">deletions</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">DELETE</span> <span class="n">FROM</span> <span class="n">t</span> <span class="n">WHERE</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="o">%</span><span class="p">(</span><span class="n">c1_1</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(</span><span class="o">%</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span><span class="n">s</span><span class="p">,</span> <span class="o">%</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">ON</span> <span class="n">CONFLICT</span> <span class="p">(</span><span class="n">c1</span><span class="p">)</span> <span class="n">DO</span> <span class="n">UPDATE</span> <span class="n">SET</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c2</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.21.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.HasCTE.cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCTE.</span></code></a><span class="sig-name descname"><span class="pre">cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.HasCTE.cte" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a>,
or Common Table Expression instance.</p>
<p>Common table expressions are a SQL standard whereby SELECT
statements can draw upon secondary statements specified along
with the primary statement, using a clause called “WITH”.
Special semantics regarding UNION can also be employed to
allow “recursive” queries, where a SELECT statement can draw
upon the set of rows that have previously been selected.</p>
<p>CTEs can also be applied to DML constructs UPDATE, INSERT
and DELETE on some databases, both as a source of CTE rows
when combined with RETURNING, as well as a consumer of
CTE rows.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1: </span>Added support for UPDATE/INSERT/DELETE as
CTE, CTEs added to UPDATE/INSERT/DELETE.</p>
</div>
<p>SQLAlchemy detects <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> objects, which are treated
similarly to <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> objects, as special elements
to be delivered to the FROM clause of the statement as well
as to a WITH clause at the top of the statement.</p>
<p>For special prefixes such as PostgreSQL “MATERIALIZED” and
“NOT MATERIALIZED”, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">CTE.prefix_with()</span></code>
method may be
used to establish these.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.3.13: </span>Added support for prefixes.
In particular - MATERIALIZED and NOT MATERIALIZED.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.HasCTE.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte.params.name">¶</a> – name given to the common table expression.  Like
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>, the name can be left as
<code class="docutils literal notranslate"><span class="pre">None</span></code> in which case an anonymous symbol will be used at query
compile time.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.HasCTE.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte.params.recursive">¶</a> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, will render <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>.
A recursive common table expression is intended to be used in
conjunction with UNION ALL in order to derive rows
from those already selected.</p></li>
</ul>
</dd>
</dl>
<p>The following examples include two from PostgreSQL’s documentation at
<a class="reference external" href="https://www.postgresql.org/docs/current/static/queries-with.html">https://www.postgresql.org/docs/current/static/queries-with.html</a>,
as well as additional examples.</p>
<p>Example 1, non recursive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">(</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">(</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 2, WITH RECURSIVE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>\
    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>\
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">(</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 3, an upsert using UPDATE and INSERT with CTEs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">))</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.cte" title="sqlalchemy.orm.Query.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.cte()</span></code></a> - ORM version of
<a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a>.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.HasPrefixes">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">HasPrefixes</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.HasPrefixes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.HasPrefixes.prefix_with">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasPrefixes.</span></code></a><span class="sig-name descname"><span class="pre">prefix_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one or more expressions following the statement keyword, i.e.
SELECT, INSERT, UPDATE, or DELETE. Generative.</p>
<p>This is used to support backend-specific prefix keywords such as those
provided by MySQL.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span>

<span class="c1"># MySQL 5.7 optimizer hints</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span>
    <span class="s2">&quot;/*+ BKA(t1) */&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Multiple prefixes can be specified by multiple calls
to <a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasPrefixes.prefix_with()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.HasPrefixes.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.HasPrefixes.prefix_with.params.*expr">¶</a> – textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
construct which
will be rendered following the INSERT, UPDATE, or DELETE
keyword.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.HasPrefixes.prefix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.HasPrefixes.prefix_with.params.**kw">¶</a> – A single keyword ‘dialect’ is accepted.  This is an
optional string dialect name which will
limit rendering of this prefix to only that dialect.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.HasSuffixes">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">HasSuffixes</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.HasSuffixes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.HasSuffixes.suffix_with">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasSuffixes.</span></code></a><span class="sig-name descname"><span class="pre">suffix_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.HasSuffixes.suffix_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one or more expressions following the statement as a whole.</p>
<p>This is used to support backend-specific suffix keywords on
certain constructs.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">()</span><span class="o">.</span><span class="n">suffix_with</span><span class="p">(</span>
    <span class="s2">&quot;cycle empno set y_cycle to 1 default 0&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;oracle&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Multiple suffixes can be specified by multiple calls
to <a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes.suffix_with" title="sqlalchemy.sql.expression.HasSuffixes.suffix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasSuffixes.suffix_with()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.HasSuffixes.suffix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.HasSuffixes.suffix_with.params.*expr">¶</a> – textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
construct which
will be rendered following the target clause.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.HasSuffixes.suffix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.HasSuffixes.suffix_with.params.**kw">¶</a> – A single keyword ‘dialect’ is accepted.  This is an
optional string dialect name which will
limit rendering of this suffix to only that dialect.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Join" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a <code class="docutils literal notranslate"><span class="pre">JOIN</span></code> construct between two
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
elements.</p>
<p>The public constructor function for <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>
is the module-level
<a class="reference internal" href="#sqlalchemy.sql.expression.join" title="sqlalchemy.sql.expression.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">join()</span></code></a> function, as well as the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a> method
of any <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> (e.g. such as
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.join" title="sqlalchemy.sql.expression.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">join()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.DMLTableRole</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Join.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>.</p>
<p>The usual entrypoint here is the <a class="reference internal" href="#sqlalchemy.sql.expression.join" title="sqlalchemy.sql.expression.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">join()</span></code></a>
function or the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a> method of any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Join.alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Join.alias" title="sqlalchemy.sql.expression.Join.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Join.alias()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Create a select + subquery, or alias the individual tables inside the join, instead. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
<p>The default behavior here is to first produce a SELECT
construct from this <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>, then to produce an
<a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> from that.  So given a join of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">j</span> <span class="o">=</span> <span class="n">table_a</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table_b</span><span class="p">,</span> <span class="n">table_a</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">table_b</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a_id</span><span class="p">)</span></pre></div>
</div>
<p>The JOIN by itself would look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_a</span> <span class="n">JOIN</span> <span class="n">table_b</span> <span class="n">ON</span> <span class="n">table_a</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">table_b</span><span class="o">.</span><span class="n">a_id</span></pre></div>
</div>
<p>Whereas the alias of the above, <code class="docutils literal notranslate"><span class="pre">j.alias()</span></code>, would in a
SELECT context look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">SELECT</span> <span class="n">table_a</span><span class="o">.</span><span class="n">id</span> <span class="n">AS</span> <span class="n">table_a_id</span><span class="p">,</span> <span class="n">table_b</span><span class="o">.</span><span class="n">id</span> <span class="n">AS</span> <span class="n">table_b_id</span><span class="p">,</span>
    <span class="n">table_b</span><span class="o">.</span><span class="n">a_id</span> <span class="n">AS</span> <span class="n">table_b_a_id</span>
    <span class="n">FROM</span> <span class="n">table_a</span>
    <span class="n">JOIN</span> <span class="n">table_b</span> <span class="n">ON</span> <span class="n">table_a</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">table_b</span><span class="o">.</span><span class="n">a_id</span><span class="p">)</span> <span class="n">AS</span> <span class="n">anon_1</span></pre></div>
</div>
<p>The equivalent long-hand form, given a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>
object <code class="docutils literal notranslate"><span class="pre">j</span></code>, is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span><span class="p">,</span> <span class="n">alias</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">alias</span><span class="p">(</span>
    <span class="n">select</span><span class="p">(</span><span class="n">j</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">j</span><span class="o">.</span><span class="n">right</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">select_from</span><span class="p">(</span><span class="n">j</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">set_label_style</span><span class="p">(</span><span class="n">LABEL_STYLE_TABLENAME_PLUS_COL</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">correlate</span><span class="p">(</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">name</span><span class="o">=</span><span class="n">name</span>
<span class="p">)</span></pre></div>
</div>
<p>The selectable produced by <a class="reference internal" href="#sqlalchemy.sql.expression.Join.alias" title="sqlalchemy.sql.expression.Join.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Join.alias()</span></code></a>
features the same
columns as that of the two individual selectables presented under
a single name - the individual columns are “auto-labeled”, meaning
the <code class="docutils literal notranslate"><span class="pre">.c.</span></code> collection of the resulting <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
represents
the names of the individual columns using a
<code class="docutils literal notranslate"><span class="pre">&lt;tablename&gt;_&lt;columname&gt;</span></code> scheme:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">j</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">table_a_id</span>
<span class="n">j</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">table_b_a_id</span></pre></div>
</div>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Join.alias" title="sqlalchemy.sql.expression.Join.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Join.alias()</span></code></a> also features an alternate
option for aliasing joins which produces no enclosing SELECT and
does not normally apply labels to the column names.  The
<code class="docutils literal notranslate"><span class="pre">flat=True</span></code> option will call <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>
against the left and right sides individually.
Using this option, no new <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> is produced;
we instead, from a construct as below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">j</span> <span class="o">=</span> <span class="n">table_a</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table_b</span><span class="p">,</span> <span class="n">table_a</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">table_b</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a_id</span><span class="p">)</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>we get a result like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_a</span> <span class="n">AS</span> <span class="n">table_a_1</span> <span class="n">JOIN</span> <span class="n">table_b</span> <span class="n">AS</span> <span class="n">table_b_1</span> <span class="n">ON</span>
<span class="n">table_a_1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">table_b_1</span><span class="o">.</span><span class="n">a_id</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">flat=True</span></code> argument is also propagated to the contained
selectables, so that a composite join such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">j</span> <span class="o">=</span> <span class="n">table_a</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">table_b</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table_c</span><span class="p">,</span>
                <span class="n">table_b</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">table_c</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b_id</span><span class="p">),</span>
        <span class="n">table_b</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a_id</span> <span class="o">==</span> <span class="n">table_a</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Will produce an expression like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_a</span> <span class="n">AS</span> <span class="n">table_a_1</span> <span class="n">JOIN</span> <span class="p">(</span>
        <span class="n">table_b</span> <span class="n">AS</span> <span class="n">table_b_1</span> <span class="n">JOIN</span> <span class="n">table_c</span> <span class="n">AS</span> <span class="n">table_c_1</span>
        <span class="n">ON</span> <span class="n">table_b_1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">table_c_1</span><span class="o">.</span><span class="n">b_id</span>
<span class="p">)</span> <span class="n">ON</span> <span class="n">table_a_1</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">table_b_1</span><span class="o">.</span><span class="n">a_id</span></pre></div>
</div>
<p>The standalone <a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a> function as well as the
base <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>
method also support the <code class="docutils literal notranslate"><span class="pre">flat=True</span></code>
argument as a no-op, so that the argument can be passed to the
<code class="docutils literal notranslate"><span class="pre">alias()</span></code> method of any selectable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Join.alias.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Join.alias.params.name">¶</a> – name given to the alias.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Join.alias.params.flat"></span><strong>flat</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Join.alias.params.flat">¶</a> – if True, produce an alias of the left and right
sides of this <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> and return the join of those
two selectables.   This produces join expression that does not
include an enclosing SELECT.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#core-tutorial-aliases"><span class="std std-ref">Using Aliases and Subqueries</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join.bind">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join.</span></code></a><span class="sig-name descname"><span class="pre">bind</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Join.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bound engine associated with either the left or right
side of this <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> attribute is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Bound metadata is being removed as of SQLAlchemy 2.0. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join.description">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join.</span></code></a><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Join.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join.is_derived_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join.</span></code></a><span class="sig-name descname"><span class="pre">is_derived_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fromclause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Join.is_derived_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> is
‘derived’ from the given <code class="docutils literal notranslate"><span class="pre">FromClause</span></code>.</p>
<p>An example would be an Alias of a Table is derived from that Table.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">whereclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Join.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> from this
<a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table_a</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table_b</span><span class="p">,</span> <span class="n">table_a</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">table_b</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a_id</span><span class="p">)</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="n">select</span><span class="p">()</span></pre></div>
</div>
<p>The above will produce a SQL string resembling:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table_a</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table_a</span><span class="o">.</span><span class="n">col</span><span class="p">,</span> <span class="n">table_b</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table_b</span><span class="o">.</span><span class="n">a_id</span>
<span class="n">FROM</span> <span class="n">table_a</span> <span class="n">JOIN</span> <span class="n">table_b</span> <span class="n">ON</span> <span class="n">table_a</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">table_b</span><span class="o">.</span><span class="n">a_id</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Join.select.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Join.select.params.whereclause">¶</a> – <p>WHERE criteria, same as calling
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> on the resulting statement</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Join.select.params.whereclause" title="sqlalchemy.sql.expression.Join.select"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Join.select().whereclause</span></code></a> parameter is deprecated and will be removed in version 2.0.  Please make use of the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> method to add WHERE criteria to the SELECT statement.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Join.select.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Join.select.params.**kwargs">¶</a> – additional keyword arguments are passed to the
legacy constructor for <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> described at
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select" title="sqlalchemy.sql.expression.Select.create_legacy_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.create_legacy_select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Join.self_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Join"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Join.</span></code></a><span class="sig-name descname"><span class="pre">self_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">against</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Join.self_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a ‘grouping’ to this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>This method is overridden by subclasses to return a “grouping”
construct, i.e. parenthesis.   In particular it’s used by “binary”
expressions to provide a grouping around themselves when placed into a
larger expression, as well as by <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
constructs when placed into the FROM clause of another
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.  (Note that subqueries should be
normally created using the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.alias()</span></code></a> method,
as many
platforms require nested SELECT statements to be named).</p>
<p>As expressions are composed together, the application of
<a class="reference internal" href="#sqlalchemy.sql.expression.Join.self_group" title="sqlalchemy.sql.expression.Join.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> is automatic - end-user code should never
need to use this method directly.  Note that SQLAlchemy’s
clause constructs take operator precedence into account -
so parenthesis might not be needed, for example, in
an expression like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence
over OR.</p>
<p>The base <a class="reference internal" href="#sqlalchemy.sql.expression.Join.self_group" title="sqlalchemy.sql.expression.Join.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> method of
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
just returns self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Lateral">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Lateral" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a LATERAL subquery.</p>
<p>This object is constructed from the <a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a> module
level function as well as the <code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.lateral()</span></code>
method available
on all <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> subclasses.</p>
<p>While LATERAL is part of the SQL standard, currently only more recent
PostgreSQL versions provide support for this keyword.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#lateral-selects"><span class="std std-ref">LATERAL correlation</span></a> -  overview of usage.</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Lateral</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows" title="sqlalchemy.sql.expression.AliasedReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ReturnsRows">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">ReturnsRows</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.ReturnsRows" title="Permalink to this definition">¶</a></dt>
<dd><p>The base-most class for Core constructs that have some concept of
columns that can represent rows.</p>
<p>While the SELECT statement and TABLE are the primary things we think
of in this category,  DML like INSERT, UPDATE and DELETE can also specify
RETURNING which means they can be used in CTEs and other forms, and
PostgreSQL has functions that return rows also.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows" title="sqlalchemy.sql.expression.ReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ReturnsRows</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.ReturnsRowsRole</span></code>, <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ClauseElement</span></code></a>)</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ReturnsRows.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ReturnsRows.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.ReturnsRows.exported_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that represents the “exported”
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows" title="sqlalchemy.sql.expression.ReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReturnsRows</span></code></a>.</p>
<p>The “exported” columns represent the collection of
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
expressions that are rendered by this SQL
construct.   There are primary varieties which are the
“FROM clause columns” of a FROM clause, such as a table, join,
or subquery, the “SELECTed columns”, which are the columns in
the “columns clause” of a SELECT statement, and the RETURNING
columns in a DML statement..</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.exported_columns" title="sqlalchemy.sql.expression.FromClause.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exported_columns" title="sqlalchemy.sql.expression.SelectBase.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.exported_columns</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ScalarSelect">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">ScalarSelect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ScalarSelect" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a scalar subquery.</p>
<p>A <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a> is created by invoking the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="sqlalchemy.sql.expression.SelectBase.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.scalar_subquery()</span></code></a> method.   The object
then participates in other SQL expressions as a SQL column expression
within the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> hierarchy.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="sqlalchemy.sql.expression.SelectBase.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.scalar_subquery()</span></code></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-scalar-subquery"><span class="std std-ref">Scalar and Correlated Subqueries</span></a> - in the 2.0 tutorial</p>
<p><a class="reference internal" href="tutorial.html#scalar-selects"><span class="std std-ref">Scalar Selects</span></a> - in the 1.x tutorial</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ScalarSelect</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.InElementRole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Generative</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Grouping</span></code>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ScalarSelect.correlate">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ScalarSelect.</span></code></a><span class="sig-name descname"><span class="pre">correlate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fromclauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ScalarSelect.correlate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a>
which will correlate the given FROM
clauses to that of an enclosing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<p>This method is mirrored from the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a> method
of the underlying <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.  The method applies the
:meth:_sql.Select.correlate` method, then returns a new
<a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a> against that statement.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>Previously, the
<a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate" title="sqlalchemy.sql.expression.ScalarSelect.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ScalarSelect.correlate()</span></code></a>
method was only available from <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.ScalarSelect.correlate.params.*fromclauses"></span><strong>*fromclauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate.params.*fromclauses">¶</a> – a list of one or more
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
constructs, or other compatible constructs (i.e. ORM-mapped
classes) to become part of the correlate collection.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate_except" title="sqlalchemy.sql.expression.ScalarSelect.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ScalarSelect.correlate_except()</span></code></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-scalar-subquery"><span class="std std-ref">Scalar and Correlated Subqueries</span></a> - in the 2.0 tutorial</p>
<p><a class="reference internal" href="tutorial.html#correlated-subqueries"><span class="std std-ref">Correlated Subqueries</span></a> - in the 1.x tutorial</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ScalarSelect.correlate_except">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ScalarSelect.</span></code></a><span class="sig-name descname"><span class="pre">correlate_except</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fromclauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ScalarSelect.correlate_except" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a>
which will omit the given FROM
clauses from the auto-correlation process.</p>
<p>This method is mirrored from the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate_except()</span></code></a> method of the underlying
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.  The method applies the
:meth:_sql.Select.correlate_except` method, then returns a new
<a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a> against that statement.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>Previously, the
<a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate_except" title="sqlalchemy.sql.expression.ScalarSelect.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ScalarSelect.correlate_except()</span></code></a>
method was only available from <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.ScalarSelect.correlate_except.params.*fromclauses"></span><strong>*fromclauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate_except.params.*fromclauses">¶</a> – a list of one or more
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
constructs, or other compatible constructs (i.e. ORM-mapped
classes) to become part of the correlate-exception collection.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.correlate" title="sqlalchemy.sql.expression.ScalarSelect.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ScalarSelect.correlate()</span></code></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-scalar-subquery"><span class="std std-ref">Scalar and Correlated Subqueries</span></a> - in the 2.0 tutorial</p>
<p><a class="reference internal" href="tutorial.html#correlated-subqueries"><span class="std std-ref">Correlated Subqueries</span></a> - in the 1.x tutorial</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ScalarSelect.self_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ScalarSelect.</span></code></a><span class="sig-name descname"><span class="pre">self_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ScalarSelect.self_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a ‘grouping’ to this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>This method is overridden by subclasses to return a “grouping”
construct, i.e. parenthesis.   In particular it’s used by “binary”
expressions to provide a grouping around themselves when placed into a
larger expression, as well as by <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
constructs when placed into the FROM clause of another
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.  (Note that subqueries should be
normally created using the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.alias()</span></code></a> method,
as many
platforms require nested SELECT statements to be named).</p>
<p>As expressions are composed together, the application of
<a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.self_group" title="sqlalchemy.sql.expression.ScalarSelect.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> is automatic - end-user code should never
need to use this method directly.  Note that SQLAlchemy’s
clause constructs take operator precedence into account -
so parenthesis might not be needed, for example, in
an expression like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence
over OR.</p>
<p>The base <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect.self_group" title="sqlalchemy.sql.expression.ScalarSelect.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> method of
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
just returns self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.ScalarSelect.where">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ScalarSelect.</span></code></a><span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.ScalarSelect.where" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a WHERE clause to the SELECT statement referred to
by this <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Select</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object is normally constructed using the
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> function.  See that function for details.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a></p>
<p><a class="reference internal" href="tutorial.html#coretutorial-selecting"><span class="std std-ref">Selecting</span></a> - in the 1.x tutorial</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-selecting-data"><span class="std std-ref">Selecting Rows with Core or ORM</span></a> - in the 2.0 tutorial</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasPrefixes</span></code></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes" title="sqlalchemy.sql.expression.HasSuffixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasSuffixes</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasHints</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCompileState</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.DeprecatedSelectGenerations</span></code>, <code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression._SelectFromElements</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.GenerativeSelect</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.add_columns">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">add_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.add_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct with
the given column expressions added to its columns clause.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_select</span> <span class="o">=</span> <span class="n">my_select</span><span class="o">.</span><span class="n">add_columns</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">new_column</span><span class="p">)</span></pre></div>
</div>
<p>See the documentation for
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_only_columns()</span></code></a>
for guidelines on adding /replacing the columns of a
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.add_cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">add_cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cte</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.add_cte" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.add_cte" title="sqlalchemy.sql.expression.HasCTE.add_cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.add_cte()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></p>
</div>
<p>Add a <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> to this statement object that will be
independently rendered even if not referenced in the statement
otherwise.</p>
<p>This feature is useful for the use case of embedding a DML statement
such as an INSERT or UPDATE as a CTE inline with a primary statement
that may draw from its results indirectly; while PostgreSQL is known
to support this usage, it may not be supported by other backends.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c1&#39;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c2&#39;</span><span class="p">))</span>

<span class="n">ins</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">cte</span><span class="p">()</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">ins</span><span class="p">)</span></pre></div>
</div>
<p>Would render:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">anon_1</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(:</span><span class="n">param_1</span><span class="p">,</span> <span class="p">:</span><span class="n">param_2</span><span class="p">))</span>
<span class="n">SELECT</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">c2</span>
<span class="n">FROM</span> <span class="n">t</span></pre></div>
</div>
<p>Above, the “anon_1” CTE is not referred towards in the SELECT
statement, however still accomplishes the task of running an INSERT
statement.</p>
<p>Similarly in a DML-related context, using the PostgreSQL
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.Insert" title="sqlalchemy.dialects.postgresql.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct to generate an “upsert”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.dialects.postgresql</span> <span class="kn">import</span> <span class="n">insert</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c1&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c2&quot;</span><span class="p">))</span>

<span class="n">delete_statement_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;deletions&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">insert_stmt</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">update_statement</span> <span class="o">=</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">on_conflict_do_update</span><span class="p">(</span>
    <span class="n">index_elements</span><span class="o">=</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span><span class="p">],</span>
    <span class="n">set_</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span>
        <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">delete_statement_cte</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">update_statement</span><span class="p">)</span></pre></div>
</div>
<p>The above statement renders as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">deletions</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">DELETE</span> <span class="n">FROM</span> <span class="n">t</span> <span class="n">WHERE</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="o">%</span><span class="p">(</span><span class="n">c1_1</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(</span><span class="o">%</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span><span class="n">s</span><span class="p">,</span> <span class="o">%</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">ON</span> <span class="n">CONFLICT</span> <span class="p">(</span><span class="n">c1</span><span class="p">)</span> <span class="n">DO</span> <span class="n">UPDATE</span> <span class="n">SET</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c2</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.21.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.alias" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.alias" title="sqlalchemy.sql.expression.SelectBase.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.alias()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a named subquery against this
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>.</p>
<p>For a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a> (as opposed to a
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>),
this returns a <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> object which behaves mostly the
same as the <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> object that is used with a
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.alias" title="sqlalchemy.sql.expression.SelectBase.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.alias()</span></code></a>
method is now
a synonym for the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.apply_labels">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">apply_labels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.apply_labels" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.apply_labels" title="sqlalchemy.sql.expression.GenerativeSelect.apply_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.apply_labels()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.apply_labels" title="sqlalchemy.sql.expression.GenerativeSelect.apply_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.apply_labels()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Use set_label_style(LABEL_STYLE_TABLENAME_PLUS_COL) instead. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.as_scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">as_scalar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.as_scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a> method is deprecated and will be removed in a future release.  Please refer to <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="sqlalchemy.sql.expression.SelectBase.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.scalar_subquery()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.bind">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">bind</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>
to which this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a> is bound, or None if none found.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> attribute is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Bound metadata is being removed as of SQLAlchemy 2.0. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.c">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">c</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.c" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.c" title="sqlalchemy.sql.expression.SelectBase.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.c</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.c" title="sqlalchemy.sql.expression.SelectBase.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.c</span></code></a> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.columns</span></code> attributes are deprecated and will be removed in a future release; these attributes implicitly create a subquery that should be explicit.  Please call <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> first in order to create a subquery, which then contains this attribute.  To access the columns that this SELECT object SELECTs from, use the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="sqlalchemy.sql.expression.SelectBase.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.selected_columns</span></code></a> attribute.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct with
the given column expression added to its columns clause.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Select.column" title="sqlalchemy.sql.expression.Select.column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.column()</span></code></a> method is deprecated and will be removed in a future release.  Please use <a class="reference internal" href="#sqlalchemy.sql.expression.Select.add_columns" title="sqlalchemy.sql.expression.Select.add_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.add_columns()</span></code></a></p>
</div>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_select</span> <span class="o">=</span> <span class="n">my_select</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">new_column</span><span class="p">)</span></pre></div>
</div>
<p>See the documentation for
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_only_columns()</span></code></a>
for guidelines on adding /replacing the columns of a
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.column_descriptions">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">column_descriptions</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.column_descriptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a ‘column descriptions’ structure which may be
<a class="reference internal" href="../glossary.html#term-plugin-specific"><span class="xref std std-term">plugin-specific</span></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.columns_clause_froms">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">columns_clause_froms</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.columns_clause_froms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> objects implied
by the columns clause of this SELECT statement.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.23.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.froms" title="sqlalchemy.sql.expression.Select.froms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.froms</span></code></a> - “final” FROM list taking the full
statement into account</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_only_columns()</span></code></a> - makes use of this
collection to set up a new FROM list</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.correlate">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">correlate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fromclauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.correlate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
which will correlate the given FROM
clauses to that of an enclosing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<p>Calling this method turns off the <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object’s
default behavior of “auto-correlation”.  Normally, FROM elements
which appear in a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
that encloses this one via
its <a class="reference internal" href="../glossary.html#term-WHERE-clause"><span class="xref std std-term">WHERE clause</span></a>, ORDER BY, HAVING or
<a class="reference internal" href="../glossary.html#term-columns-clause"><span class="xref std std-term">columns clause</span></a> will be omitted from this
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object’s <a class="reference internal" href="../glossary.html#term-FROM-clause"><span class="xref std std-term">FROM clause</span></a>.
Setting an explicit correlation collection using the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a>
method provides a fixed list of FROM objects
that can potentially take place in this process.</p>
<p>When <a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a>
is used to apply specific FROM clauses
for correlation, the FROM elements become candidates for
correlation regardless of how deeply nested this
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object is, relative to an enclosing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
which refers to
the same FROM object.  This is in contrast to the behavior of
“auto-correlation” which only correlates to an immediate enclosing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.
Multi-level correlation ensures that the link
between enclosed and enclosing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
is always via
at least one WHERE/ORDER BY/HAVING/columns clause in order for
correlation to take place.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> is passed, the <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object will correlate
none of its FROM entries, and all will render unconditionally
in the local FROM clause.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.correlate.params.*fromclauses"></span><strong>*fromclauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.correlate.params.*fromclauses">¶</a> – a list of one or more
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
constructs, or other compatible constructs (i.e. ORM-mapped
classes) to become part of the correlate collection.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate_except()</span></code></a></p>
<p><a class="reference internal" href="tutorial.html#correlated-subqueries"><span class="std std-ref">Correlated Subqueries</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.correlate_except">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">correlate_except</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fromclauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.correlate_except" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
which will omit the given FROM
clauses from the auto-correlation process.</p>
<p>Calling <a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate_except" title="sqlalchemy.sql.expression.Select.correlate_except"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate_except()</span></code></a> turns off the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object’s default behavior of
“auto-correlation” for the given FROM elements.  An element
specified here will unconditionally appear in the FROM list, while
all other FROM elements remain subject to normal auto-correlation
behaviors.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code> is passed, the <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object will correlate
all of its FROM entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.correlate_except.params.*fromclauses"></span><strong>*fromclauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.correlate_except.params.*fromclauses">¶</a> – a list of one or more
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
constructs, or other compatible constructs (i.e. ORM-mapped
classes) to become part of the correlate-exception collection.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a></p>
<p><a class="reference internal" href="tutorial.html#correlated-subqueries"><span class="std std-ref">Correlated Subqueries</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.corresponding_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">corresponding_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_embedded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.corresponding_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.corresponding_column" title="sqlalchemy.sql.expression.Selectable.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.corresponding_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Given a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, return the exported
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> object from the
<a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a>
collection of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>
which corresponds to that
original <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> via a common ancestor
column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.corresponding_column.params.column"></span><strong>column</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.corresponding_column.params.column">¶</a> – the target <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
to be matched.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.corresponding_column.params.require_embedded"></span><strong>require_embedded</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.corresponding_column.params.require_embedded">¶</a> – only return corresponding columns for
the given <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, if the given
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
is actually present within a sub-element
of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.
Normally the column will match if
it merely shares a common ancestor with one of the exported
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a> - the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that is used for the operation.</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection.corresponding_column" title="sqlalchemy.sql.expression.ColumnCollection.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollection.corresponding_column()</span></code></a>
- implementation
method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.create_legacy_select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">create_legacy_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whereclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distinct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">having</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correlate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefixes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffixes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.create_legacy_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> using the 1.x style API.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The legacy calling style of <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> is deprecated and will be removed in SQLAlchemy 2.0.  Please use the new calling style described at <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
<p>This method is called implicitly when the <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
construct is used and the first argument is a Python list or other
plain sequence object, which is taken to refer to the columns
collection.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>Added the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select" title="sqlalchemy.sql.expression.Select.create_legacy_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.create_legacy_select()</span></code></a>
constructor which documents the calling style in use when the
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct is invoked using 1.x-style arguments.</p>
</div>
<p>Similar functionality is also available via the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.select" title="sqlalchemy.sql.expression.FromClause.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.select()</span></code></a> method on any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>All arguments which accept <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> arguments
also accept string arguments, which will be converted as appropriate
into either <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> or
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.literal_column" title="sqlalchemy.sql.expression.literal_column"><code class="xref py py-func docutils literal notranslate"><span class="pre">literal_column()</span></code></a> constructs.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#coretutorial-selecting"><span class="std std-ref">Selecting</span></a> - Core Tutorial description of
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.columns"></span><strong>columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.columns">¶</a> – <p>A list of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> or
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
objects which will form the columns clause of the resulting
statement.   For those objects that are instances of
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> (typically <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
or <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
objects), the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a>
collection is extracted
to form a collection of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> objects.</p>
<p>This parameter will also accept <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a>
constructs as
given, as well as ORM-mapped classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.select.params.columns" title="sqlalchemy.sql.expression.select"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">select.columns</span></code></a>
parameter is not available
in the method form of <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>, e.g.
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.select" title="sqlalchemy.sql.expression.FromClause.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.select()</span></code></a>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.column" title="sqlalchemy.sql.expression.Select.column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.column()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_only_columns()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.whereclause">¶</a> – <p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
expression which will be used to form the
<code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause.   It is typically preferable to add WHERE
criterion to an existing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
using method chaining
with <a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.from_obj"></span><strong>from_obj</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.from_obj">¶</a> – <p>A list of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
objects which will be added to the
<code class="docutils literal notranslate"><span class="pre">FROM</span></code> clause of the resulting statement.  This is equivalent
to calling <a class="reference internal" href="#sqlalchemy.sql.expression.Select.select_from" title="sqlalchemy.sql.expression.Select.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_from()</span></code></a>
using method chaining on
an existing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.select_from" title="sqlalchemy.sql.expression.Select.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_from()</span></code></a>
- full description of explicit
FROM clause specification.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.bind"></span><strong>bind=None</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.bind">¶</a> – an <a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> instance
to which the
resulting <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object will be bound.  The
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object will otherwise automatically bind to
whatever <code class="xref py py-class docutils literal notranslate"><span class="pre">Connectable</span></code> instances can be located within
its contained <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> members.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.correlate"></span><strong>correlate=True</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.correlate">¶</a> – <p>indicates that this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object should have its
contained <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
elements “correlated” to an enclosing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object.
It is typically preferable to specify
correlations on an existing <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
construct using
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.correlate" title="sqlalchemy.sql.expression.Select.correlate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.correlate()</span></code></a>
- full description of correlation.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.distinct"></span><strong>distinct=False</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.distinct">¶</a> – <p>when <code class="docutils literal notranslate"><span class="pre">True</span></code>, applies a <code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code> qualifier to the columns
clause of the resulting statement.</p>
<p>The boolean argument may also be a column expression or list
of column expressions - this is a special calling form which
is understood by the PostgreSQL dialect to render the
<code class="docutils literal notranslate"><span class="pre">DISTINCT</span> <span class="pre">ON</span> <span class="pre">(&lt;columns&gt;)</span></code> syntax.</p>
<p><code class="docutils literal notranslate"><span class="pre">distinct</span></code> is also available on an existing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object via the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.distinct" title="sqlalchemy.sql.expression.Select.distinct"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.distinct()</span></code></a> method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.distinct" title="sqlalchemy.sql.expression.Select.distinct"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.distinct()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.group_by"></span><strong>group_by</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.group_by">¶</a> – <p>a list of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
objects which will comprise the
<code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> clause of the resulting select.  This parameter
is typically specified more naturally using the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.group_by" title="sqlalchemy.sql.expression.Select.group_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.group_by()</span></code></a> method on an existing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.group_by" title="sqlalchemy.sql.expression.Select.group_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.group_by()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.having"></span><strong>having</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.having">¶</a> – <p>a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
that will comprise the <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> clause
of the resulting select when <code class="docutils literal notranslate"><span class="pre">GROUP</span> <span class="pre">BY</span></code> is used.  This parameter
is typically specified more naturally using the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.having" title="sqlalchemy.sql.expression.Select.having"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.having()</span></code></a> method on an existing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.having" title="sqlalchemy.sql.expression.Select.having"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.having()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.limit"></span><strong>limit=None</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.limit">¶</a> – <p>a numerical value which usually renders as a <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code>
expression in the resulting select.  Backends that don’t
support <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> will attempt to provide similar
functionality.    This parameter is typically specified more
naturally using the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.limit" title="sqlalchemy.sql.expression.Select.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.limit()</span></code></a>
method on an existing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.limit" title="sqlalchemy.sql.expression.Select.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.limit()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.offset"></span><strong>offset=None</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.offset">¶</a> – <p>a numeric value which usually renders as an <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code>
expression in the resulting select.  Backends that don’t
support <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> will attempt to provide similar
functionality.  This parameter is typically specified more naturally
using the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.offset" title="sqlalchemy.sql.expression.Select.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.offset()</span></code></a> method on an existing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.offset" title="sqlalchemy.sql.expression.Select.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.offset()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.order_by"></span><strong>order_by</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.order_by">¶</a> – <p>a scalar or list of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
objects which will
comprise the <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clause of the resulting select.
This parameter is typically specified more naturally using the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.order_by" title="sqlalchemy.sql.expression.Select.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.order_by()</span></code></a> method on an existing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.order_by" title="sqlalchemy.sql.expression.Select.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.order_by()</span></code></a></p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.create_legacy_select.params.use_labels"></span><strong>use_labels=False</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select.params.use_labels">¶</a> – <p>when <code class="docutils literal notranslate"><span class="pre">True</span></code>, the statement will be generated using labels
for each column in the columns clause, which qualify each
column with its parent table’s (or aliases) name so that name
conflicts between columns in different tables don’t occur.
The format of the label is <code class="docutils literal notranslate"><span class="pre">&lt;tablename&gt;_&lt;column&gt;</span></code>.  The “c”
collection of a <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> created
against this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object, as well as the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.selected_columns" title="sqlalchemy.sql.expression.Select.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.selected_columns</span></code></a>
collection of the <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> itself, will use these
names for targeting column members.</p>
<p>This parameter can also be specified on an existing
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object using the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.set_label_style" title="sqlalchemy.sql.expression.Select.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.set_label_style()</span></code></a>
method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.set_label_style" title="sqlalchemy.sql.expression.Select.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.set_label_style()</span></code></a></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.cte" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></p>
</div>
<p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a>,
or Common Table Expression instance.</p>
<p>Common table expressions are a SQL standard whereby SELECT
statements can draw upon secondary statements specified along
with the primary statement, using a clause called “WITH”.
Special semantics regarding UNION can also be employed to
allow “recursive” queries, where a SELECT statement can draw
upon the set of rows that have previously been selected.</p>
<p>CTEs can also be applied to DML constructs UPDATE, INSERT
and DELETE on some databases, both as a source of CTE rows
when combined with RETURNING, as well as a consumer of
CTE rows.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1: </span>Added support for UPDATE/INSERT/DELETE as
CTE, CTEs added to UPDATE/INSERT/DELETE.</p>
</div>
<p>SQLAlchemy detects <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> objects, which are treated
similarly to <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> objects, as special elements
to be delivered to the FROM clause of the statement as well
as to a WITH clause at the top of the statement.</p>
<p>For special prefixes such as PostgreSQL “MATERIALIZED” and
“NOT MATERIALIZED”, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">CTE.prefix_with()</span></code>
method may be
used to establish these.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.3.13: </span>Added support for prefixes.
In particular - MATERIALIZED and NOT MATERIALIZED.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.cte.params.name">¶</a> – name given to the common table expression.  Like
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>, the name can be left as
<code class="docutils literal notranslate"><span class="pre">None</span></code> in which case an anonymous symbol will be used at query
compile time.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.cte.params.recursive">¶</a> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, will render <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>.
A recursive common table expression is intended to be used in
conjunction with UNION ALL in order to derive rows
from those already selected.</p></li>
</ul>
</dd>
</dl>
<p>The following examples include two from PostgreSQL’s documentation at
<a class="reference external" href="https://www.postgresql.org/docs/current/static/queries-with.html">https://www.postgresql.org/docs/current/static/queries-with.html</a>,
as well as additional examples.</p>
<p>Example 1, non recursive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">(</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">(</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 2, WITH RECURSIVE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>\
    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>\
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">(</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 3, an upsert using UPDATE and INSERT with CTEs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">))</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.cte" title="sqlalchemy.orm.Query.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.cte()</span></code></a> - ORM version of
<a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.distinct">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">distinct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.distinct" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct which
will apply DISTINCT to its columns clause.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.distinct.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.distinct.params.*expr">¶</a> – <p>optional column expressions.  When present,
the PostgreSQL dialect will render a <code class="docutils literal notranslate"><span class="pre">DISTINCT</span> <span class="pre">ON</span> <span class="pre">(&lt;expressions&gt;&gt;)</span></code>
construct.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>Using *expr in other dialects is deprecated
and will raise <a class="reference internal" href="exceptions.html#sqlalchemy.exc.CompileError" title="sqlalchemy.exc.CompileError"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompileError</span></code></a> in a future version.</p>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.except_">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">except_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.except_" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SQL <code class="docutils literal notranslate"><span class="pre">EXCEPT</span></code> of this select() construct against
the given selectable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.except_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">except_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.except_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SQL <code class="docutils literal notranslate"><span class="pre">EXCEPT</span> <span class="pre">ALL</span></code> of this select() construct against
the given selectable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.execute">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.execute" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execute()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execute()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. All statement execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">execution_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.execution_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Set non-SQL options for the statement which take effect during
execution.</p>
<p>Execution options can be set on a per-statement or
per <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> basis.   Additionally, the
<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> and ORM <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
objects provide
access to execution options which they in turn configure upon
connections.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Select.execution_options" title="sqlalchemy.sql.expression.Select.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> method is generative.  A new
instance of this statement is returned that contains the options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Note that only a subset of possible execution options can be applied
to a statement - these include “autocommit” and “stream_results”,
but not “isolation_level” or “compiled_cache”.
See <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a> for a full list of
possible options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a></p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.execution_options" title="sqlalchemy.orm.Query.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.execution_options()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="sqlalchemy.sql.expression.Executable.get_execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.get_execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.exists">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.exists" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exists" title="sqlalchemy.sql.expression.SelectBase.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.exists()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return an <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> representation of this selectable,
which can be used as a column expression.</p>
<p>The returned object is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.exists" title="sqlalchemy.sql.expression.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">exists()</span></code></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-exists"><span class="std std-ref">EXISTS subqueries</span></a> - in the <a class="reference internal" href="../glossary.html#term-2.0-style"><span class="xref std std-term">2.0 style</span></a> tutorial.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.exported_columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exported_columns" title="sqlalchemy.sql.expression.SelectBase.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.exported_columns</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that represents the “exported”
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>, not including
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> constructs.</p>
<p>The “exported” columns for a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
object are synonymous
with the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="sqlalchemy.sql.expression.SelectBase.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.selected_columns</span></code></a> collection.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.exported_columns" title="sqlalchemy.sql.expression.Select.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.exported_columns" title="sqlalchemy.sql.expression.FromClause.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.exported_columns</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.fetch">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">fetch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_ties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.fetch" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Return a new selectable with the given FETCH FIRST criterion
applied.</p>
<p>This is a numeric value which usually renders as
<code class="docutils literal notranslate"><span class="pre">FETCH</span> <span class="pre">{FIRST</span> <span class="pre">|</span> <span class="pre">NEXT}</span> <span class="pre">[</span> <span class="pre">count</span> <span class="pre">]</span> <span class="pre">{ROW</span> <span class="pre">|</span> <span class="pre">ROWS}</span> <span class="pre">{ONLY</span> <span class="pre">|</span> <span class="pre">WITH</span> <span class="pre">TIES}</span></code>
expression in the resulting select. This functionality is
is currently implemented for Oracle, PostgreSQL, MSSQL.</p>
<p>Use <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a> to specify the offset.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a> method will replace
any clause applied with <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.fetch.params.count"></span><strong>count</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.fetch.params.count">¶</a> – an integer COUNT parameter, or a SQL expression
that provides an integer result. When <code class="docutils literal notranslate"><span class="pre">percent=True</span></code> this will
represent the percentage of rows to return, not the absolute value.
Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to reset it.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.fetch.params.with_ties"></span><strong>with_ties</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.fetch.params.with_ties">¶</a> – When <code class="docutils literal notranslate"><span class="pre">True</span></code>, the WITH TIES option is used
to return any additional rows that tie for the last place in the
result set according to the <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> clause. The
<code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> may be mandatory in this case. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.fetch.params.percent"></span><strong>percent</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.fetch.params.percent">¶</a> – When <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">count</span></code> represents the percentage
of the total number of selected rows to return. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.filter">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">criteria</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>A synonym for the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code> method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.filter_by">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">filter_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.filter_by" title="Permalink to this definition">¶</a></dt>
<dd><p>apply the given filtering criterion as a WHERE clause
to this select.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.from_statement">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">from_statement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.from_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the columns which this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> would select
onto another statement.</p>
<p>This operation is <a class="reference internal" href="../glossary.html#term-plugin-specific"><span class="xref std std-term">plugin-specific</span></a> and will raise a not
supported exception if this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> does not select from
plugin-enabled entities.</p>
<p>The statement is typically either a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> or
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct, and should return the set of
columns appropriate to the entities represented by this
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/queryguide.html#orm-queryguide-selecting-text"><span class="std std-ref">Getting ORM Results from Textual and Core Statements</span></a> - usage examples in the
ORM Querying Guide</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.froms">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">froms</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.froms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the displayed list of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
elements.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4.23: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Select.froms" title="sqlalchemy.sql.expression.Select.froms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.froms</span></code></a> attribute is moved to the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.get_final_froms" title="sqlalchemy.sql.expression.Select.get_final_froms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.get_final_froms()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.get_children">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">get_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Return immediate child <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a>
elements of this <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a>.</p>
<p>This is used for visit traversal.</p>
<p>**kw may contain flags that change the collection that is
returned, for example to return a subset of items in order to
cut down on larger traversals, or to return child items from a
different context (such as schema-level collections instead of
clause-level).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.get_execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">get_execution_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.get_execution_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="sqlalchemy.sql.expression.Executable.get_execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.get_execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Get the non-SQL options which will take effect during execution.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.get_final_froms">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">get_final_froms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.get_final_froms" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the final displayed list of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
elements.</p>
<p>This method will run through the full computation required to
determine what FROM elements will be displayed in the resulting
SELECT statement, including shadowing individual tables with
JOIN objects, as well as full computation for ORM use cases including
eager loading clauses.</p>
<p>For ORM use, this accessor returns the <strong>post compilation</strong>
list of FROM objects; this collection will include elements such as
eagerly loaded tables and joins.  The objects will <strong>not</strong> be
ORM enabled and not work as a replacement for the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_froms()</span></code> collection; additionally, the
method is not well performing for an ORM enabled statement as it
will incur the full ORM construction process.</p>
<p>To retrieve the FROM list that’s implied by the “columns” collection
passed to the <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> originally, use the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.columns_clause_froms" title="sqlalchemy.sql.expression.Select.columns_clause_froms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.columns_clause_froms</span></code></a> accessor.</p>
<p>To select from an alternative set of columns while maintaining the
FROM list, use the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_only_columns()</span></code></a> method and
pass the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns.params.maintain_column_froms" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Select.with_only_columns.maintain_column_froms</span></code></a>
parameter.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.23: </span>- the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.get_final_froms" title="sqlalchemy.sql.expression.Select.get_final_froms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.get_final_froms()</span></code></a>
method replaces the previous <a class="reference internal" href="#sqlalchemy.sql.expression.Select.froms" title="sqlalchemy.sql.expression.Select.froms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.froms</span></code></a> accessor,
which is deprecated.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.columns_clause_froms" title="sqlalchemy.sql.expression.Select.columns_clause_froms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.columns_clause_froms</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.get_label_style">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">get_label_style</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.get_label_style" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.get_label_style" title="sqlalchemy.sql.expression.GenerativeSelect.get_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.get_label_style()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Retrieve the current label style.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.group_by">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">group_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.group_by" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.group_by" title="sqlalchemy.sql.expression.GenerativeSelect.group_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.group_by()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Return a new selectable with the given list of GROUP BY
criterion applied.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">stat</span><span class="p">))</span><span class="o">.</span>\
<span class="n">group_by</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.group_by.params.*clauses"></span><strong>*clauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.group_by.params.*clauses">¶</a> – a series of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
constructs
which will be used to generate an GROUP BY clause.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-group-by-w-aggregates"><span class="std std-ref">Aggregate functions with GROUP BY / HAVING</span></a> - in the
<a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-order-by-label"><span class="std std-ref">Ordering or Grouping by a Label</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.having">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">having</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">having</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.having" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct with
the given expression added to
its HAVING clause, joined to the existing clause via AND, if any.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.inner_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">inner_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.inner_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterator of all <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
expressions which would
be rendered into the columns clause of the resulting SELECT statement.</p>
<p>This method is legacy as of 1.4 and is superseded by the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.exported_columns" title="sqlalchemy.sql.expression.Select.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.exported_columns</span></code></a> collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.intersect">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">intersect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.intersect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SQL <code class="docutils literal notranslate"><span class="pre">INTERSECT</span></code> of this select() construct against
the given selectable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.intersect_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">intersect_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.intersect_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SQL <code class="docutils literal notranslate"><span class="pre">INTERSECT</span> <span class="pre">ALL</span></code> of this select() construct
against the given selectable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.join">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SQL JOIN against this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object’s criterion
and apply generatively, returning the newly resulting
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">address_table</span><span class="p">,</span> <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span></pre></div>
</div>
<p>The above statement generates SQL similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">user</span> <span class="n">JOIN</span> <span class="n">address</span> <span class="n">ON</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="n">user_id</span></pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span><a class="reference internal" href="#sqlalchemy.sql.expression.Select.join" title="sqlalchemy.sql.expression.Select.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.join()</span></code></a> now creates
a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> object between a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
source that is within the FROM clause of the existing SELECT,
and a given target <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>, and then adds
this <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> to the FROM clause of the newly generated
SELECT statement.    This is completely reworked from the behavior
in 1.3, which would instead create a subquery of the entire
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> and then join that subquery to the
target.</p>
<p>This is a <strong>backwards incompatible change</strong> as the previous behavior
was mostly useless, producing an unnamed subquery rejected by
most databases in any case.   The new behavior is modeled after
that of the very successful <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.join" title="sqlalchemy.orm.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.join()</span></code></a> method in the
ORM, in order to support the functionality of <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
being available by using a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object with an
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<p>See the notes for this change at <a class="reference internal" href="../changelog/migration_14.html#change-select-join"><span class="std std-ref">select().join() and outerjoin() add JOIN criteria to the current query, rather than creating a subquery</span></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join.params.target"></span><strong>target</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join.params.target">¶</a> – target table to join towards</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join.params.onclause">¶</a> – ON clause of the join.  If omitted, an ON clause
is generated automatically based on the <a class="reference internal" href="constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a>
linkages between the two tables, if one can be unambiguously
determined, otherwise an error is raised.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join.params.isouter"></span><strong>isouter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join.params.isouter">¶</a> – if True, generate LEFT OUTER join.  Same as
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.outerjoin" title="sqlalchemy.sql.expression.Select.outerjoin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.outerjoin()</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join.params.full"></span><strong>full</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join.params.full">¶</a> – if True, generate FULL OUTER join.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-select-join"><span class="std std-ref">Explicit FROM clauses and JOINs</span></a> - in the <a class="reference internal" href="../tutorial/index.html"><span class="doc">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
<p><a class="reference internal" href="../orm/queryguide.html#orm-queryguide-joins"><span class="std std-ref">Joins</span></a> - in the <a class="reference internal" href="../orm/queryguide.html"><span class="std std-ref">ORM Querying Guide</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.join_from" title="sqlalchemy.sql.expression.Select.join_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.join_from()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.outerjoin" title="sqlalchemy.sql.expression.Select.outerjoin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.outerjoin()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.join_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">join_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.join_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SQL JOIN against this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object’s criterion
and apply generatively, returning the newly resulting
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">user_table</span><span class="p">,</span> <span class="n">address_table</span><span class="p">)</span><span class="o">.</span><span class="n">join_from</span><span class="p">(</span>
    <span class="n">user_table</span><span class="p">,</span> <span class="n">address_table</span><span class="p">,</span> <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span>
<span class="p">)</span></pre></div>
</div>
<p>The above statement generates SQL similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">address</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">address</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="n">address</span><span class="o">.</span><span class="n">user_id</span>
<span class="n">FROM</span> <span class="n">user</span> <span class="n">JOIN</span> <span class="n">address</span> <span class="n">ON</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="n">user_id</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join_from.params.from_"></span><strong>from_</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join_from.params.from_">¶</a> – the left side of the join, will be rendered in the
FROM clause and is roughly equivalent to using the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.select_from" title="sqlalchemy.sql.expression.Select.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_from()</span></code></a> method.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join_from.params.target"></span><strong>target</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join_from.params.target">¶</a> – target table to join towards</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join_from.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join_from.params.onclause">¶</a> – ON clause of the join.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join_from.params.isouter"></span><strong>isouter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join_from.params.isouter">¶</a> – if True, generate LEFT OUTER join.  Same as
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.outerjoin" title="sqlalchemy.sql.expression.Select.outerjoin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.outerjoin()</span></code></a>.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.join_from.params.full"></span><strong>full</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.join_from.params.full">¶</a> – if True, generate FULL OUTER join.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-select-join"><span class="std std-ref">Explicit FROM clauses and JOINs</span></a> - in the <a class="reference internal" href="../tutorial/index.html"><span class="doc">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
<p><a class="reference internal" href="../orm/queryguide.html#orm-queryguide-joins"><span class="std std-ref">Joins</span></a> - in the <a class="reference internal" href="../orm/queryguide.html"><span class="std std-ref">ORM Querying Guide</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.join" title="sqlalchemy.sql.expression.Select.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.join()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.label">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.label" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.label" title="sqlalchemy.sql.expression.SelectBase.label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.label()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a ‘scalar’ representation of this selectable, embedded as a
subquery with a label.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.lateral">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.lateral" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.lateral" title="sqlalchemy.sql.expression.SelectBase.lateral"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.lateral()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a LATERAL alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p>
<p>The return value is the <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> construct also
provided by the top-level <a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#lateral-selects"><span class="std std-ref">LATERAL correlation</span></a> -  overview of usage.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.limit">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.limit" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Return a new selectable with the given LIMIT criterion
applied.</p>
<p>This is a numerical value which usually renders as a <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code>
expression in the resulting select.  Backends that don’t
support <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code> will attempt to provide similar
functionality.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a> method will replace
any clause applied with <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.0: </span>- <a class="reference internal" href="#sqlalchemy.sql.expression.Select.limit" title="sqlalchemy.sql.expression.Select.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.limit()</span></code></a> can now
accept arbitrary SQL expressions as well as integer values.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.limit.params.limit"></span><strong>limit</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.limit.params.limit">¶</a> – an integer LIMIT parameter, or a SQL expression
that provides an integer result. Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to reset it.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.offset">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.offset" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Return a new selectable with the given OFFSET criterion
applied.</p>
<p>This is a numeric value which usually renders as an <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code>
expression in the resulting select.  Backends that don’t
support <code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> will attempt to provide similar
functionality.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.0: </span>- <a class="reference internal" href="#sqlalchemy.sql.expression.Select.offset" title="sqlalchemy.sql.expression.Select.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.offset()</span></code></a> can now
accept arbitrary SQL expressions as well as integer values.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.offset.params.offset"></span><strong>offset</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.offset.params.offset">¶</a> – an integer OFFSET parameter, or a SQL expression
that provides an integer result. Pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to reset it.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.options" title="sqlalchemy.sql.expression.Executable.options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Apply options to this statement.</p>
<p>In the general sense, options are any kind of Python object
that can be interpreted by the SQL compiler for the statement.
These options can be consumed by specific dialects or specific kinds
of compilers.</p>
<p>The most commonly known kind of option are the ORM level options
that apply “eager load” and other loading behaviors to an ORM
query.   However, options can theoretically be used for many other
purposes.</p>
<p>For background on specific kinds of options for specific kinds of
statements, refer to the documentation for those option objects.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>- added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Generative.options()</span></code> to
Core statement objects towards the goal of allowing unified
Core / ORM querying capabilities.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/loading_columns.html#deferred-options"><span class="std std-ref">Deferred Column Loader Query Options</span></a> - refers to options specific to the usage
of ORM queries</p>
<p><a class="reference internal" href="../orm/loading_relationships.html#relationship-loader-options"><span class="std std-ref">Relationship Loading with Loader Options</span></a> - refers to options specific
to the usage of ORM queries</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.order_by">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">order_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">clauses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.order_by" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.order_by" title="sqlalchemy.sql.expression.GenerativeSelect.order_by"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.order_by()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Return a new selectable with the given list of ORDER BY
criterion applied.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.order_by.params.*clauses"></span><strong>*clauses</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.order_by.params.*clauses">¶</a> – a series of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
constructs
which will be used to generate an ORDER BY clause.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-order-by"><span class="std std-ref">ORDER BY</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-order-by-label"><span class="std std-ref">Ordering or Grouping by a Label</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.outerjoin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">outerjoin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.outerjoin" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a left outer join.</p>
<p>Parameters are the same as that of <a class="reference internal" href="#sqlalchemy.sql.expression.Select.join" title="sqlalchemy.sql.expression.Select.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.join()</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span><a class="reference internal" href="#sqlalchemy.sql.expression.Select.outerjoin" title="sqlalchemy.sql.expression.Select.outerjoin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.outerjoin()</span></code></a> now
creates a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> object between a
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> source that is within the FROM clause of
the existing SELECT, and a given target <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>,
and then adds this <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> to the FROM clause of the
newly generated SELECT statement.    This is completely reworked
from the behavior in 1.3, which would instead create a subquery of
the entire
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> and then join that subquery to the
target.</p>
<p>This is a <strong>backwards incompatible change</strong> as the previous behavior
was mostly useless, producing an unnamed subquery rejected by
most databases in any case.   The new behavior is modeled after
that of the very successful <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.join" title="sqlalchemy.orm.Query.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.join()</span></code></a> method in the
ORM, in order to support the functionality of <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
being available by using a <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> object with an
<a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>.</p>
<p>See the notes for this change at <a class="reference internal" href="../changelog/migration_14.html#change-select-join"><span class="std std-ref">select().join() and outerjoin() add JOIN criteria to the current query, rather than creating a subquery</span></a>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-select-join"><span class="std std-ref">Explicit FROM clauses and JOINs</span></a> - in the <a class="reference internal" href="../tutorial/index.html"><span class="doc">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
<p><a class="reference internal" href="../orm/queryguide.html#orm-queryguide-joins"><span class="std std-ref">Joins</span></a> - in the <a class="reference internal" href="../orm/queryguide.html"><span class="std std-ref">ORM Querying Guide</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.join" title="sqlalchemy.sql.expression.Select.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.join()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.outerjoin_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">outerjoin_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.outerjoin_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a SQL LEFT OUTER JOIN against this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>
object’s criterion
and apply generatively, returning the newly resulting
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>.</p>
<p>Usage is the same as that of <code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.join_from()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.prefix_with">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">prefix_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.prefix_with" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasPrefixes.prefix_with()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes" title="sqlalchemy.sql.expression.HasPrefixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasPrefixes</span></code></a></p>
</div>
<p>Add one or more expressions following the statement keyword, i.e.
SELECT, INSERT, UPDATE, or DELETE. Generative.</p>
<p>This is used to support backend-specific prefix keywords such as those
provided by MySQL.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span><span class="s2">&quot;LOW_PRIORITY&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span>

<span class="c1"># MySQL 5.7 optimizer hints</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="o">.</span><span class="n">prefix_with</span><span class="p">(</span>
    <span class="s2">&quot;/*+ BKA(t1) */&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;mysql&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Multiple prefixes can be specified by multiple calls
to <a class="reference internal" href="#sqlalchemy.sql.expression.HasPrefixes.prefix_with" title="sqlalchemy.sql.expression.HasPrefixes.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasPrefixes.prefix_with()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.prefix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.prefix_with.params.*expr">¶</a> – textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
construct which
will be rendered following the INSERT, UPDATE, or DELETE
keyword.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.prefix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.prefix_with.params.**kw">¶</a> – A single keyword ‘dialect’ is accepted.  This is an
optional string dialect name which will
limit rendering of this prefix to only that dialect.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.reduce_columns">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">reduce_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">only_synonyms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.reduce_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct with redundantly
named, equivalently-valued columns removed from the columns clause.</p>
<p>“Redundant” here means two columns where one refers to the
other either based on foreign key, or via a simple equality
comparison in the WHERE clause of the statement.   The primary purpose
of this method is to automatically construct a select statement
with all uniquely-named columns, without the need to use
table-qualified labels as
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.set_label_style" title="sqlalchemy.sql.expression.Select.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.set_label_style()</span></code></a>
does.</p>
<p>When columns are omitted based on foreign key, the referred-to
column is the one that’s kept.  When columns are omitted based on
WHERE equivalence, the first column in the columns clause is the
one that’s kept.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Select.reduce_columns.params.only_synonyms"></span><strong>only_synonyms</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.reduce_columns.params.only_synonyms">¶</a> – when True, limit the removal of columns
to those which have the same name as the equivalent.   Otherwise,
all columns that are equivalent to another are removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.replace_selectable">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">replace_selectable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.replace_selectable" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Replace all occurrences of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
‘old’ with the given <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object, returning a copy of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> method is deprecated, and will be removed in a future release.  Similar functionality is available via the sqlalchemy.sql.visitors module.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>, returning the
result’s scalar representation.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.scalar()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Scalar execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.scalar" title="sqlalchemy.engine.Connection.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.scalar()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.scalar" title="sqlalchemy.orm.Session.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalar()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.scalar_subquery">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">scalar_subquery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.scalar_subquery" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="sqlalchemy.sql.expression.SelectBase.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.scalar_subquery()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a ‘scalar’ representation of this selectable, which can be
used as a column expression.</p>
<p>The returned object is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a>.</p>
<p>Typically, a select statement which has only one column in its columns
clause is eligible to be used as a scalar expression.  The scalar
subquery can then be used in the WHERE clause or columns clause of
an enclosing SELECT.</p>
<p>Note that the scalar subquery differentiates from the FROM-level
subquery that can be produced using the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-scalar-subquery"><span class="std std-ref">Scalar and Correlated Subqueries</span></a> - in the 2.0 tutorial</p>
<p><a class="reference internal" href="tutorial.html#scalar-selects"><span class="std std-ref">Scalar Selects</span></a> - in the 1.x tutorial</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.select" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.select" title="sqlalchemy.sql.expression.SelectBase.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.select()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.select" title="sqlalchemy.sql.expression.SelectBase.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.select()</span></code></a> method is deprecated and will be removed in a future release; this method implicitly creates a subquery that should be explicit.  Please call <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> first in order to create a subquery, which then can be selected.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.select_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">select_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">froms</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.select_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct with the
given FROM expression(s)
merged into its list of FROM objects.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table1</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="n">table2</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t2&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">))</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">select_from</span><span class="p">(</span>
        <span class="n">table1</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table2</span><span class="p">,</span> <span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="o">==</span><span class="n">table2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>
    <span class="p">)</span></pre></div>
</div>
<p>The “from” list is a unique set on the identity of each element,
so adding an already present <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
or other selectable
will have no effect.   Passing a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> that refers
to an already present <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
or other selectable will have
the effect of concealing the presence of that selectable as
an individual element in the rendered FROM list, instead
rendering it into a JOIN clause.</p>
<p>While the typical purpose of <a class="reference internal" href="#sqlalchemy.sql.expression.Select.select_from" title="sqlalchemy.sql.expression.Select.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_from()</span></code></a>
is to
replace the default, derived FROM clause with a join, it can
also be called with individual table elements, multiple times
if desired, in the case that the FROM clause cannot be fully
derived from the columns clause:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">table1</span><span class="p">)</span></pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.selected_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">selected_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.selected_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
representing the columns that
this SELECT statement or similar construct returns in its result set,
not including <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> constructs.</p>
<p>This collection differs from the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a>
collection of a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> in that the columns
within this collection cannot be directly nested inside another SELECT
statement; a subquery must be applied first which provides for the
necessary parenthesization required by SQL.</p>
<p>For a <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct, the collection here is
exactly what would be rendered inside the “SELECT” statement, and the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> objects are directly present as they
were given, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">col1</span> <span class="o">=</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="n">col2</span> <span class="o">=</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">)</span></pre></div>
</div>
<p>Above, <code class="docutils literal notranslate"><span class="pre">stmt.selected_columns</span></code> would be a collection that contains
the <code class="docutils literal notranslate"><span class="pre">col1</span></code> and <code class="docutils literal notranslate"><span class="pre">col2</span></code> objects directly. For a statement that is
against a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> or other
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>, the collection will use the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> objects that are in the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a> collection of the from element.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Select.selected_columns" title="sqlalchemy.sql.expression.Select.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.selected_columns</span></code></a> collection does not
include expressions established in the columns clause using the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> construct; these are silently omitted from the
collection. To use plain textual column expressions inside of a
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> construct, use the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.literal_column" title="sqlalchemy.sql.expression.literal_column"><code class="xref py py-func docutils literal notranslate"><span class="pre">literal_column()</span></code></a>
construct.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.self_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">self_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">against</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.self_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a ‘grouping’ construct as per the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> specification.</p>
<p>This produces an element that can be embedded in an expression. Note
that this method is called automatically as needed when constructing
expressions and should not require explicit use.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.set_label_style">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">set_label_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.set_label_style" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.set_label_style" title="sqlalchemy.sql.expression.GenerativeSelect.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.set_label_style()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Return a new selectable with the specified label style.</p>
<p>There are three “label styles” available,
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a>, and
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_NONE" title="sqlalchemy.sql.expression.LABEL_STYLE_NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_NONE</span></code></a>.   The default style is
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a>.</p>
<p>In modern SQLAlchemy, there is not generally a need to change the
labeling style, as per-expression labels are more effectively used by
making use of the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement.label" title="sqlalchemy.sql.expression.ColumnElement.label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnElement.label()</span></code></a> method. In past
versions, <a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a> was used to
disambiguate same-named columns from different tables, aliases, or
subqueries; the newer <a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a> now
applies labels only to names that conflict with an existing name so
that the impact of this labeling is minimal.</p>
<p>The rationale for disambiguation is mostly so that all column
expressions are available from a given <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a>
collection when a subquery is created.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>- the
<a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.set_label_style" title="sqlalchemy.sql.expression.GenerativeSelect.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.set_label_style()</span></code></a> method replaces the
previous combination of <code class="docutils literal notranslate"><span class="pre">.apply_labels()</span></code>, <code class="docutils literal notranslate"><span class="pre">.with_labels()</span></code> and
<code class="docutils literal notranslate"><span class="pre">use_labels=True</span></code> methods and/or parameters.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_NONE" title="sqlalchemy.sql.expression.LABEL_STYLE_NONE"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_NONE</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DEFAULT" title="sqlalchemy.sql.expression.LABEL_STYLE_DEFAULT"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DEFAULT</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.slice">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.slice" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.slice" title="sqlalchemy.sql.expression.GenerativeSelect.slice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.slice()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Apply LIMIT / OFFSET to this statement based on a slice.</p>
<p>The start and stop indices behave like the argument to Python’s
built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">range()</span></code> function. This method provides an
alternative to using <code class="docutils literal notranslate"><span class="pre">LIMIT</span></code>/<code class="docutils literal notranslate"><span class="pre">OFFSET</span></code> to get a slice of the
query.</p>
<p>For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></pre></div>
</div>
<p>renders as</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">users</span><span class="p">.</span><span class="n">id</span> <span class="k">AS</span> <span class="n">users_id</span><span class="p">,</span>
       <span class="n">users</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">users_name</span>
<span class="k">FROM</span> <span class="n">users</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">users</span><span class="p">.</span><span class="n">id</span>
<span class="k">LIMIT</span> <span class="o">?</span> <span class="k">OFFSET</span> <span class="o">?</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.slice" title="sqlalchemy.sql.expression.GenerativeSelect.slice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.slice()</span></code></a> method will replace
any clause applied with <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>Added the <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.slice" title="sqlalchemy.sql.expression.GenerativeSelect.slice"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.slice()</span></code></a>
method generalized from the ORM.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.limit" title="sqlalchemy.sql.expression.GenerativeSelect.limit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.limit()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.offset" title="sqlalchemy.sql.expression.GenerativeSelect.offset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.offset()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.fetch" title="sqlalchemy.sql.expression.GenerativeSelect.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.fetch()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.subquery">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">subquery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.subquery" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a subquery of this <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>.</p>
<p>A subquery is from a SQL perspective a parenthesized, named
construct that can be placed in the FROM clause of another
SELECT statement.</p>
<p>Given a SELECT statement such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<p>The above statement might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">table</span></pre></div>
</div>
<p>The subquery form by itself renders the same way, however when
embedded into the FROM clause of another SELECT statement, it becomes
a named sub-element:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subq</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="n">subquery</span><span class="p">()</span>
<span class="n">new_stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">subq</span><span class="p">)</span></pre></div>
</div>
<p>The above renders as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">anon_1</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">anon_1</span><span class="o">.</span><span class="n">name</span>
<span class="n">FROM</span> <span class="p">(</span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">table</span><span class="p">)</span> <span class="n">AS</span> <span class="n">anon_1</span></pre></div>
</div>
<p>Historically, <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
is equivalent to calling
the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>
method on a FROM object; however,
as a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
object is not directly  FROM object,
the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
method provides clearer semantics.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.suffix_with">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">suffix_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.suffix_with" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes.suffix_with" title="sqlalchemy.sql.expression.HasSuffixes.suffix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasSuffixes.suffix_with()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes" title="sqlalchemy.sql.expression.HasSuffixes"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSuffixes</span></code></a></p>
</div>
<p>Add one or more expressions following the statement as a whole.</p>
<p>This is used to support backend-specific suffix keywords on
certain constructs.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">()</span><span class="o">.</span><span class="n">suffix_with</span><span class="p">(</span>
    <span class="s2">&quot;cycle empno set y_cycle to 1 default 0&quot;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s2">&quot;oracle&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Multiple suffixes can be specified by multiple calls
to <a class="reference internal" href="#sqlalchemy.sql.expression.HasSuffixes.suffix_with" title="sqlalchemy.sql.expression.HasSuffixes.suffix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasSuffixes.suffix_with()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.suffix_with.params.*expr"></span><strong>*expr</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.suffix_with.params.*expr">¶</a> – textual or <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
construct which
will be rendered following the target clause.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.suffix_with.params.**kw"></span><strong>**kw</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.suffix_with.params.**kw">¶</a> – A single keyword ‘dialect’ is accepted.  This is an
optional string dialect name which will
limit rendering of this suffix to only that dialect.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.union">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.union" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SQL <code class="docutils literal notranslate"><span class="pre">UNION</span></code> of this select() construct against
the given selectable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.union_all">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">union_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.union_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SQL <code class="docutils literal notranslate"><span class="pre">UNION</span> <span class="pre">ALL</span></code> of this select() construct against
the given selectable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.where">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">whereclause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.where" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct with
the given expression added to
its WHERE clause, joined to the existing clause via AND, if any.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.whereclause">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">whereclause</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.whereclause" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the completed WHERE clause for this
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> statement.</p>
<p>This assembles the current collection of WHERE criteria
into a single <code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanClauseList</span></code> construct.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.with_for_update">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">with_for_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nowait</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">of</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_locked</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_share</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.with_for_update" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.with_for_update" title="sqlalchemy.sql.expression.GenerativeSelect.with_for_update"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.with_for_update()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a></p>
</div>
<p>Specify a <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code> clause for this
<a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect" title="sqlalchemy.sql.expression.GenerativeSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenerativeSelect</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="p">)</span><span class="o">.</span><span class="n">with_for_update</span><span class="p">(</span><span class="n">nowait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>On a database like PostgreSQL or Oracle, the above would render a
statement like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">b</span> <span class="n">FROM</span> <span class="n">table</span> <span class="n">FOR</span> <span class="n">UPDATE</span> <span class="n">NOWAIT</span></pre></div>
</div>
<p>on other backends, the <code class="docutils literal notranslate"><span class="pre">nowait</span></code> option is ignored and instead
would produce:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">b</span> <span class="n">FROM</span> <span class="n">table</span> <span class="n">FOR</span> <span class="n">UPDATE</span></pre></div>
</div>
<p>When called with no arguments, the statement will render with
the suffix <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span></code>.   Additional arguments can then be
provided which allow for common database-specific
variants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.with_for_update.params.nowait"></span><strong>nowait</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.with_for_update.params.nowait">¶</a> – boolean; will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">NOWAIT</span></code> on Oracle
and PostgreSQL dialects.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.with_for_update.params.read"></span><strong>read</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.with_for_update.params.read">¶</a> – boolean; will render <code class="docutils literal notranslate"><span class="pre">LOCK</span> <span class="pre">IN</span> <span class="pre">SHARE</span> <span class="pre">MODE</span></code> on MySQL,
<code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span></code> on PostgreSQL.  On PostgreSQL, when combined with
<code class="docutils literal notranslate"><span class="pre">nowait</span></code>, will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span> <span class="pre">NOWAIT</span></code>.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.with_for_update.params.of"></span><strong>of</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.with_for_update.params.of">¶</a> – SQL expression or list of SQL expression elements
(typically <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a>
objects or a compatible expression) which
will render into a <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">OF</span></code> clause; supported by PostgreSQL
and Oracle.  May render as a table or as a column depending on
backend.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.with_for_update.params.skip_locked"></span><strong>skip_locked</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.with_for_update.params.skip_locked">¶</a> – boolean, will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">UPDATE</span> <span class="pre">SKIP</span> <span class="pre">LOCKED</span></code>
on Oracle and PostgreSQL dialects or <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">SHARE</span> <span class="pre">SKIP</span> <span class="pre">LOCKED</span></code> if
<code class="docutils literal notranslate"><span class="pre">read=True</span></code> is also specified.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.with_for_update.params.key_share"></span><strong>key_share</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.with_for_update.params.key_share">¶</a> – boolean, will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">NO</span> <span class="pre">KEY</span> <span class="pre">UPDATE</span></code>,
or if combined with <code class="docutils literal notranslate"><span class="pre">read=True</span></code> will render <code class="docutils literal notranslate"><span class="pre">FOR</span> <span class="pre">KEY</span> <span class="pre">SHARE</span></code>,
on the PostgreSQL dialect.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.with_hint">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">with_hint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selectable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.with_hint" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">HasHints.with_hint()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">HasHints</span></code></p>
</div>
<p>Add an indexing or other executional context hint for the given
selectable to this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> or other selectable
object.</p>
<p>The text of the hint is rendered in the appropriate
location for the database backend in use, relative
to the given <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> or <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
passed as the
<code class="docutils literal notranslate"><span class="pre">selectable</span></code> argument. The dialect implementation
typically uses Python string substitution syntax
with the token <code class="docutils literal notranslate"><span class="pre">%(name)s</span></code> to render the name of
the table or alias. E.g. when using Oracle, the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">with_hint</span><span class="p">(</span><span class="n">mytable</span><span class="p">,</span> <span class="s2">&quot;index(</span><span class="si">%(name)s</span><span class="s2"> ix_mytable)&quot;</span><span class="p">)</span></pre></div>
</div>
<p>Would render SQL as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="o">/*+</span> <span class="n">index</span><span class="p">(</span><span class="n">mytable</span> <span class="n">ix_mytable</span><span class="p">)</span> <span class="o">*/</span> <span class="o">...</span> <span class="kn">from</span> <span class="nn">mytable</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">dialect_name</span></code> option will limit the rendering of a particular
hint to a particular backend. Such as, to add hints for both Oracle
and Sybase simultaneously:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">with_hint</span><span class="p">(</span><span class="n">mytable</span><span class="p">,</span> <span class="s2">&quot;index(</span><span class="si">%(name)s</span><span class="s2"> ix_mytable)&quot;</span><span class="p">,</span> <span class="s1">&#39;oracle&#39;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">with_hint</span><span class="p">(</span><span class="n">mytable</span><span class="p">,</span> <span class="s2">&quot;WITH INDEX ix_mytable&quot;</span><span class="p">,</span> <span class="s1">&#39;sybase&#39;</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_statement_hint" title="sqlalchemy.sql.expression.Select.with_statement_hint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_statement_hint()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.with_only_columns">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">with_only_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct with its columns
clause replaced with the given columns.</p>
<p>By default, this method is exactly equivalent to as if the original
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> had been called with the given columns
clause. E.g. a statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">with_only_columns</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span></pre></div>
</div>
<p>should be exactly equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span></pre></div>
</div>
<p>In this mode of operation, <a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_only_columns()</span></code></a>
will also dynamically alter the FROM clause of the
statement if it is not explicitly stated.
To maintain the existing set of FROMs including those implied by the
current columns clause, add the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns.params.maintain_column_froms" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Select.with_only_columns.maintain_column_froms</span></code></a>
parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">with_only_columns</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">maintain_column_froms</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>The above parameter performs a transfer of the effective FROMs
in the columns collection to the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.select_from" title="sqlalchemy.sql.expression.Select.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_from()</span></code></a>
method, as though the following were invoked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">table1</span><span class="p">,</span> <span class="n">table2</span><span class="p">)</span><span class="o">.</span><span class="n">with_only_columns</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns.params.maintain_column_froms" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">Select.with_only_columns.maintain_column_froms</span></code></a>
parameter makes use of the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.columns_clause_froms" title="sqlalchemy.sql.expression.Select.columns_clause_froms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.columns_clause_froms</span></code></a>
collection and performs an operation equivalent to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">table2</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">b</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="o">.</span><span class="n">columns_clause_froms</span><span class="p">)</span><span class="o">.</span><span class="n">with_only_columns</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">a</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.with_only_columns.params.*columns"></span><strong>*columns</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns.params.*columns">¶</a> – <p>column expressions to be used.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns" title="sqlalchemy.sql.expression.Select.with_only_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_only_columns()</span></code></a>
method accepts the list of column expressions positionally;
passing the expressions as a list is deprecated.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Select.with_only_columns.params.maintain_column_froms"></span><strong>maintain_column_froms</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Select.with_only_columns.params.maintain_column_froms">¶</a> – <p>boolean parameter that will ensure the
FROM list implied from the current columns clause will be transferred
to the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.select_from" title="sqlalchemy.sql.expression.Select.select_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.select_from()</span></code></a> method first.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.23.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Select.with_statement_hint">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Select"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Select.</span></code></a><span class="sig-name descname"><span class="pre">with_statement_hint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Select.with_statement_hint" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">HasHints.with_statement_hint()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">HasHints</span></code></p>
</div>
<p>Add a statement hint to this <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> or
other selectable object.</p>
<p>This method is similar to <a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_hint" title="sqlalchemy.sql.expression.Select.with_hint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_hint()</span></code></a>
except that
it does not require an individual table, and instead applies to the
statement as a whole.</p>
<p>Hints here are specific to the backend database and may include
directives such as isolation levels, file directives, fetch directives,
etc.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.with_hint" title="sqlalchemy.sql.expression.Select.with_hint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.with_hint()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.prefix_with" title="sqlalchemy.sql.expression.Select.prefix_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.prefix_with()</span></code></a> - generic SELECT prefixing
which also can suit some database-specific HINT syntaxes such as
MySQL optimizer hints</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Selectable">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Selectable</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Selectable" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a class as being selectable.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Selectable</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows" title="sqlalchemy.sql.expression.ReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.ReturnsRows</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Selectable.corresponding_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Selectable.</span></code></a><span class="sig-name descname"><span class="pre">corresponding_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_embedded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Selectable.corresponding_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, return the exported
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> object from the
<a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a>
collection of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>
which corresponds to that
original <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> via a common ancestor
column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.Selectable.corresponding_column.params.column"></span><strong>column</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Selectable.corresponding_column.params.column">¶</a> – the target <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
to be matched.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.Selectable.corresponding_column.params.require_embedded"></span><strong>require_embedded</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Selectable.corresponding_column.params.require_embedded">¶</a> – only return corresponding columns for
the given <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, if the given
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
is actually present within a sub-element
of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.
Normally the column will match if
it merely shares a common ancestor with one of the exported
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a> - the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that is used for the operation.</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection.corresponding_column" title="sqlalchemy.sql.expression.ColumnCollection.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollection.corresponding_column()</span></code></a>
- implementation
method.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Selectable.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Selectable.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows.exported_columns" title="sqlalchemy.sql.expression.ReturnsRows.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ReturnsRows.exported_columns</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows" title="sqlalchemy.sql.expression.ReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReturnsRows</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that represents the “exported”
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.ReturnsRows" title="sqlalchemy.sql.expression.ReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReturnsRows</span></code></a>.</p>
<p>The “exported” columns represent the collection of
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
expressions that are rendered by this SQL
construct.   There are primary varieties which are the
“FROM clause columns” of a FROM clause, such as a table, join,
or subquery, the “SELECTed columns”, which are the columns in
the “columns clause” of a SELECT statement, and the RETURNING
columns in a DML statement..</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.exported_columns" title="sqlalchemy.sql.expression.FromClause.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exported_columns" title="sqlalchemy.sql.expression.SelectBase.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.exported_columns</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Selectable.lateral">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Selectable.</span></code></a><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Selectable.lateral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a LATERAL alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p>
<p>The return value is the <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> construct also
provided by the top-level <a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#lateral-selects"><span class="std std-ref">LATERAL correlation</span></a> -  overview of usage.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Selectable.replace_selectable">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Selectable.</span></code></a><span class="sig-name descname"><span class="pre">replace_selectable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all occurrences of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
‘old’ with the given <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object, returning a copy of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> method is deprecated, and will be removed in a future release.  Similar functionality is available via the sqlalchemy.sql.visitors module.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">SelectBase</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for SELECT statements.</p>
<p>This includes <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a> and
<a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextualSelect</span></code></a>.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.SelectStatementRole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.DMLSelectRole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.CompoundElementRole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.InElementRole</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.HasCTE</span></code></a>, <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Executable</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.annotation.SupportsCloneAnnotations</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Selectable</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.add_cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">add_cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cte</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.add_cte" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.add_cte" title="sqlalchemy.sql.expression.HasCTE.add_cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.add_cte()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></p>
</div>
<p>Add a <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> to this statement object that will be
independently rendered even if not referenced in the statement
otherwise.</p>
<p>This feature is useful for the use case of embedding a DML statement
such as an INSERT or UPDATE as a CTE inline with a primary statement
that may draw from its results indirectly; while PostgreSQL is known
to support this usage, it may not be supported by other backends.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c1&#39;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c2&#39;</span><span class="p">))</span>

<span class="n">ins</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">cte</span><span class="p">()</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">ins</span><span class="p">)</span></pre></div>
</div>
<p>Would render:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">anon_1</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(:</span><span class="n">param_1</span><span class="p">,</span> <span class="p">:</span><span class="n">param_2</span><span class="p">))</span>
<span class="n">SELECT</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">c2</span>
<span class="n">FROM</span> <span class="n">t</span></pre></div>
</div>
<p>Above, the “anon_1” CTE is not referred towards in the SELECT
statement, however still accomplishes the task of running an INSERT
statement.</p>
<p>Similarly in a DML-related context, using the PostgreSQL
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.Insert" title="sqlalchemy.dialects.postgresql.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct to generate an “upsert”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.dialects.postgresql</span> <span class="kn">import</span> <span class="n">insert</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c1&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c2&quot;</span><span class="p">))</span>

<span class="n">delete_statement_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;deletions&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">insert_stmt</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">update_statement</span> <span class="o">=</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">on_conflict_do_update</span><span class="p">(</span>
    <span class="n">index_elements</span><span class="o">=</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span><span class="p">],</span>
    <span class="n">set_</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span>
        <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">delete_statement_cte</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">update_statement</span><span class="p">)</span></pre></div>
</div>
<p>The above statement renders as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">deletions</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">DELETE</span> <span class="n">FROM</span> <span class="n">t</span> <span class="n">WHERE</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="o">%</span><span class="p">(</span><span class="n">c1_1</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(</span><span class="o">%</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span><span class="n">s</span><span class="p">,</span> <span class="o">%</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">ON</span> <span class="n">CONFLICT</span> <span class="p">(</span><span class="n">c1</span><span class="p">)</span> <span class="n">DO</span> <span class="n">UPDATE</span> <span class="n">SET</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c2</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.21.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a named subquery against this
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>.</p>
<p>For a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a> (as opposed to a
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>),
this returns a <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> object which behaves mostly the
same as the <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> object that is used with a
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.alias" title="sqlalchemy.sql.expression.SelectBase.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.alias()</span></code></a>
method is now
a synonym for the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.as_scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">as_scalar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a> method is deprecated and will be removed in a future release.  Please refer to <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="sqlalchemy.sql.expression.SelectBase.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.scalar_subquery()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.bind">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">bind</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.bind" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Returns the <a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>
to
which this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a> is bound, or None if none found.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> attribute is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Bound metadata is being removed as of SQLAlchemy 2.0. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
<p>This is a traversal which checks locally, then
checks among the “from” clauses of associated objects
until a bound engine or connection is found.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.c">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">c</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.c" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.c" title="sqlalchemy.sql.expression.SelectBase.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.c</span></code></a> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.columns</span></code> attributes are deprecated and will be removed in a future release; these attributes implicitly create a subquery that should be explicit.  Please call <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> first in order to create a subquery, which then contains this attribute.  To access the columns that this SELECT object SELECTs from, use the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="sqlalchemy.sql.expression.SelectBase.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.selected_columns</span></code></a> attribute.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.corresponding_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">corresponding_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_embedded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.corresponding_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.corresponding_column" title="sqlalchemy.sql.expression.Selectable.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.corresponding_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Given a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, return the exported
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> object from the
<a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a>
collection of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>
which corresponds to that
original <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> via a common ancestor
column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.SelectBase.corresponding_column.params.column"></span><strong>column</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.SelectBase.corresponding_column.params.column">¶</a> – the target <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
to be matched.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.SelectBase.corresponding_column.params.require_embedded"></span><strong>require_embedded</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.SelectBase.corresponding_column.params.require_embedded">¶</a> – only return corresponding columns for
the given <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, if the given
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
is actually present within a sub-element
of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.
Normally the column will match if
it merely shares a common ancestor with one of the exported
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a> - the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that is used for the operation.</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection.corresponding_column" title="sqlalchemy.sql.expression.ColumnCollection.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollection.corresponding_column()</span></code></a>
- implementation
method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.cte" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></p>
</div>
<p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a>,
or Common Table Expression instance.</p>
<p>Common table expressions are a SQL standard whereby SELECT
statements can draw upon secondary statements specified along
with the primary statement, using a clause called “WITH”.
Special semantics regarding UNION can also be employed to
allow “recursive” queries, where a SELECT statement can draw
upon the set of rows that have previously been selected.</p>
<p>CTEs can also be applied to DML constructs UPDATE, INSERT
and DELETE on some databases, both as a source of CTE rows
when combined with RETURNING, as well as a consumer of
CTE rows.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1: </span>Added support for UPDATE/INSERT/DELETE as
CTE, CTEs added to UPDATE/INSERT/DELETE.</p>
</div>
<p>SQLAlchemy detects <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> objects, which are treated
similarly to <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> objects, as special elements
to be delivered to the FROM clause of the statement as well
as to a WITH clause at the top of the statement.</p>
<p>For special prefixes such as PostgreSQL “MATERIALIZED” and
“NOT MATERIALIZED”, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">CTE.prefix_with()</span></code>
method may be
used to establish these.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.3.13: </span>Added support for prefixes.
In particular - MATERIALIZED and NOT MATERIALIZED.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.SelectBase.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.SelectBase.cte.params.name">¶</a> – name given to the common table expression.  Like
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>, the name can be left as
<code class="docutils literal notranslate"><span class="pre">None</span></code> in which case an anonymous symbol will be used at query
compile time.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.SelectBase.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.SelectBase.cte.params.recursive">¶</a> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, will render <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>.
A recursive common table expression is intended to be used in
conjunction with UNION ALL in order to derive rows
from those already selected.</p></li>
</ul>
</dd>
</dl>
<p>The following examples include two from PostgreSQL’s documentation at
<a class="reference external" href="https://www.postgresql.org/docs/current/static/queries-with.html">https://www.postgresql.org/docs/current/static/queries-with.html</a>,
as well as additional examples.</p>
<p>Example 1, non recursive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">(</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">(</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 2, WITH RECURSIVE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>\
    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>\
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">(</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 3, an upsert using UPDATE and INSERT with CTEs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">))</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.cte" title="sqlalchemy.orm.Query.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.cte()</span></code></a> - ORM version of
<a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.execute">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.execute" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execute()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execute()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. All statement execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">execution_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.execution_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Set non-SQL options for the statement which take effect during
execution.</p>
<p>Execution options can be set on a per-statement or
per <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> basis.   Additionally, the
<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> and ORM <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
objects provide
access to execution options which they in turn configure upon
connections.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.execution_options" title="sqlalchemy.sql.expression.SelectBase.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> method is generative.  A new
instance of this statement is returned that contains the options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Note that only a subset of possible execution options can be applied
to a statement - these include “autocommit” and “stream_results”,
but not “isolation_level” or “compiled_cache”.
See <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a> for a full list of
possible options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a></p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.execution_options" title="sqlalchemy.orm.Query.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.execution_options()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="sqlalchemy.sql.expression.Executable.get_execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.get_execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.exists">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> representation of this selectable,
which can be used as a column expression.</p>
<p>The returned object is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.exists" title="sqlalchemy.sql.expression.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">exists()</span></code></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-exists"><span class="std std-ref">EXISTS subqueries</span></a> - in the <a class="reference internal" href="../glossary.html#term-2.0-style"><span class="xref std std-term">2.0 style</span></a> tutorial.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.exported_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that represents the “exported”
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>, not including
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> constructs.</p>
<p>The “exported” columns for a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
object are synonymous
with the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="sqlalchemy.sql.expression.SelectBase.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.selected_columns</span></code></a> collection.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.exported_columns" title="sqlalchemy.sql.expression.Select.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.exported_columns" title="sqlalchemy.sql.expression.FromClause.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.exported_columns</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.get_execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">get_execution_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.get_execution_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="sqlalchemy.sql.expression.Executable.get_execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.get_execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Get the non-SQL options which will take effect during execution.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.label">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a ‘scalar’ representation of this selectable, embedded as a
subquery with a label.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.lateral">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.lateral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a LATERAL alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p>
<p>The return value is the <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> construct also
provided by the top-level <a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#lateral-selects"><span class="std std-ref">LATERAL correlation</span></a> -  overview of usage.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.options" title="sqlalchemy.sql.expression.Executable.options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Apply options to this statement.</p>
<p>In the general sense, options are any kind of Python object
that can be interpreted by the SQL compiler for the statement.
These options can be consumed by specific dialects or specific kinds
of compilers.</p>
<p>The most commonly known kind of option are the ORM level options
that apply “eager load” and other loading behaviors to an ORM
query.   However, options can theoretically be used for many other
purposes.</p>
<p>For background on specific kinds of options for specific kinds of
statements, refer to the documentation for those option objects.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>- added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Generative.options()</span></code> to
Core statement objects towards the goal of allowing unified
Core / ORM querying capabilities.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/loading_columns.html#deferred-options"><span class="std std-ref">Deferred Column Loader Query Options</span></a> - refers to options specific to the usage
of ORM queries</p>
<p><a class="reference internal" href="../orm/loading_relationships.html#relationship-loader-options"><span class="std std-ref">Relationship Loading with Loader Options</span></a> - refers to options specific
to the usage of ORM queries</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.replace_selectable">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">replace_selectable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.replace_selectable" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Replace all occurrences of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
‘old’ with the given <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object, returning a copy of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> method is deprecated, and will be removed in a future release.  Similar functionality is available via the sqlalchemy.sql.visitors module.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>, returning the
result’s scalar representation.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.scalar()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Scalar execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.scalar" title="sqlalchemy.engine.Connection.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.scalar()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.scalar" title="sqlalchemy.orm.Session.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalar()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.scalar_subquery">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">scalar_subquery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a ‘scalar’ representation of this selectable, which can be
used as a column expression.</p>
<p>The returned object is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a>.</p>
<p>Typically, a select statement which has only one column in its columns
clause is eligible to be used as a scalar expression.  The scalar
subquery can then be used in the WHERE clause or columns clause of
an enclosing SELECT.</p>
<p>Note that the scalar subquery differentiates from the FROM-level
subquery that can be produced using the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-scalar-subquery"><span class="std std-ref">Scalar and Correlated Subqueries</span></a> - in the 2.0 tutorial</p>
<p><a class="reference internal" href="tutorial.html#scalar-selects"><span class="std std-ref">Scalar Selects</span></a> - in the 1.x tutorial</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.select" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.select" title="sqlalchemy.sql.expression.SelectBase.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.select()</span></code></a> method is deprecated and will be removed in a future release; this method implicitly creates a subquery that should be explicit.  Please call <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> first in order to create a subquery, which then can be selected.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.selected_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">selected_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
representing the columns that
this SELECT statement or similar construct returns in its result set.</p>
<p>This collection differs from the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a>
collection of a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> in that the columns
within this collection cannot be directly nested inside another SELECT
statement; a subquery must be applied first which provides for the
necessary parenthesization required by SQL.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="sqlalchemy.sql.expression.SelectBase.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.selected_columns</span></code></a> collection does not
include expressions established in the columns clause using the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a> construct; these are silently omitted from the
collection. To use plain textual column expressions inside of a
<a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> construct, use the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.literal_column" title="sqlalchemy.sql.expression.literal_column"><code class="xref py py-func docutils literal notranslate"><span class="pre">literal_column()</span></code></a>
construct.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.selected_columns" title="sqlalchemy.sql.expression.Select.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.selected_columns</span></code></a></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.SelectBase.subquery">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase.</span></code></a><span class="sig-name descname"><span class="pre">subquery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a subquery of this <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>.</p>
<p>A subquery is from a SQL perspective a parenthesized, named
construct that can be placed in the FROM clause of another
SELECT statement.</p>
<p>Given a SELECT statement such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<p>The above statement might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">table</span></pre></div>
</div>
<p>The subquery form by itself renders the same way, however when
embedded into the FROM clause of another SELECT statement, it becomes
a named sub-element:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subq</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="n">subquery</span><span class="p">()</span>
<span class="n">new_stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">subq</span><span class="p">)</span></pre></div>
</div>
<p>The above renders as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">anon_1</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">anon_1</span><span class="o">.</span><span class="n">name</span>
<span class="n">FROM</span> <span class="p">(</span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">table</span><span class="p">)</span> <span class="n">AS</span> <span class="n">anon_1</span></pre></div>
</div>
<p>Historically, <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
is equivalent to calling
the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>
method on a FROM object; however,
as a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
object is not directly  FROM object,
the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
method provides clearer semantics.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Subquery">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Subquery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Subquery" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a subquery of a SELECT.</p>
<p>A <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> is created by invoking the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> method, or for convenience the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.alias" title="sqlalchemy.sql.expression.SelectBase.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.alias()</span></code></a> method, on any
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a> subclass
which includes <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.expression.CompoundSelect" title="sqlalchemy.sql.expression.CompoundSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompoundSelect</span></code></a>, and
<a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextualSelect</span></code></a>.  As rendered in a FROM clause,
it represents the
body of the SELECT statement inside of parenthesis, followed by the usual
“AS &lt;somename&gt;” that defines all “alias” objects.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> object is very similar to the
<a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object and can be used in an equivalent way.    The difference between
<a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> and <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> is that
<a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> always
contains a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object whereas
<a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a>
always contains a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a> object.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> class was added which now
serves the purpose of providing an aliased version of a SELECT
statement.</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Subquery</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows" title="sqlalchemy.sql.expression.AliasedReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Subquery.as_scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Subquery"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Subquery.</span></code></a><span class="sig-name descname"><span class="pre">as_scalar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Subquery.as_scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery.as_scalar" title="sqlalchemy.sql.expression.Subquery.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Subquery.as_scalar()</span></code></a> method, which was previously <code class="docutils literal notranslate"><span class="pre">Alias.as_scalar()</span></code> prior to version 1.4, is deprecated and will be removed in a future release; Please use the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.scalar_subquery" title="sqlalchemy.sql.expression.Select.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.scalar_subquery()</span></code></a> method of the <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> construct before constructing a subquery object, or with the ORM use the <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.scalar_subquery" title="sqlalchemy.orm.Query.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.scalar_subquery()</span></code></a> method.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">TableClause</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a minimal “table” construct.</p>
<p>This is a lightweight table object that has only a name, a
collection of columns, which are typically produced
by the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.column" title="sqlalchemy.sql.expression.column"><code class="xref py py-func docutils literal notranslate"><span class="pre">column()</span></code></a> function, and a schema:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
        <span class="n">column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
        <span class="n">column</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span>
        <span class="n">column</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">),</span>
<span class="p">)</span></pre></div>
</div>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a> construct serves as the base for
the more commonly used <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, providing
the usual set of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> services including
the <code class="docutils literal notranslate"><span class="pre">.c.</span></code> collection and statement generation methods.</p>
<p>It does <strong>not</strong> provide all the additional schema-level services
of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>, including constraints, references to other
tables, or support for <a class="reference internal" href="metadata.html#sqlalchemy.schema.MetaData" title="sqlalchemy.schema.MetaData"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaData</span></code></a>-level services.
It’s useful
on its own as an ad-hoc construct used to generate quick SQL
statements when a more fully fledged <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>
is not on hand.</p>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.roles.DMLTableRole</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Immutable</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a> object.</p>
<p>This constructor is mirrored as a public API function; see <a class="reference internal" href="#sqlalchemy.sql.expression.table" title="sqlalchemy.sql.expression.table"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.table()</span></code></a> for a full usage and argument description.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.alias" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return an alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a2</span> <span class="o">=</span> <span class="n">some_table</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s1">&#39;a2&#39;</span><span class="p">)</span></pre></div>
</div>
<p>The above code creates an <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object which can be used
as a FROM clause in any SELECT statement.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#core-tutorial-aliases"><span class="std std-ref">Using Aliases and Subqueries</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.c">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">c</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.c" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>A named-based collection of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
objects maintained by this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.c" title="sqlalchemy.sql.expression.FromClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.c</span></code></a> attribute is an alias for the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a> atttribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>A named-based collection of <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
objects maintained by this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause.columns" title="sqlalchemy.sql.expression.TableClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">columns</span></code></a>, or <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause.c" title="sqlalchemy.sql.expression.TableClause.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">c</span></code></a> collection, is the gateway
to the construction of SQL expressions using table-bound or
other selectable-bound columns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span><span class="p">(</span><span class="n">mytable</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">mytable</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">somecolumn</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.compare">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.compare" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Compare this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> to
the given <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>Subclasses should override the default behavior, which is a
straight identity comparison.</p>
<p>**kw are arguments consumed by subclass <code class="docutils literal notranslate"><span class="pre">compare()</span></code> methods and
may be used to modify the criteria for comparison
(see <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.compile">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">compile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.compile" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Compile this SQL expression.</p>
<p>The return value is a <a class="reference internal" href="internals.html#sqlalchemy.engine.Compiled" title="sqlalchemy.engine.Compiled"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compiled</span></code></a> object.
Calling <code class="docutils literal notranslate"><span class="pre">str()</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode()</span></code> on the returned value will yield a
string representation of the result. The
<a class="reference internal" href="internals.html#sqlalchemy.engine.Compiled" title="sqlalchemy.engine.Compiled"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compiled</span></code></a> object also can return a
dictionary of bind parameter names and values
using the <code class="docutils literal notranslate"><span class="pre">params</span></code> accessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.compile.params.bind">¶</a> – An <code class="docutils literal notranslate"><span class="pre">Engine</span></code> or <code class="docutils literal notranslate"><span class="pre">Connection</span></code> from which a
<code class="docutils literal notranslate"><span class="pre">Compiled</span></code> will be acquired. This argument takes precedence over
this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>’s bound engine, if any.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.compile.params.column_keys">¶</a> – Used for INSERT and UPDATE statements, a list of
column names which should be present in the VALUES clause of the
compiled statement. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all columns from the target table
object are rendered.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.compile.params.dialect">¶</a> – A <code class="docutils literal notranslate"><span class="pre">Dialect</span></code> instance from which a <code class="docutils literal notranslate"><span class="pre">Compiled</span></code>
will be acquired. This argument takes precedence over the <cite>bind</cite>
argument as well as this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
‘s bound engine,
if any.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.compile.params.compile_kwargs"></span><strong>compile_kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.compile.params.compile_kwargs">¶</a> – <p>optional dictionary of additional parameters
that will be passed through to the compiler within all “visit”
methods.  This allows any custom flag to be passed through to
a custom compilation construct, for example.  It is also used
for the case of passing the <code class="docutils literal notranslate"><span class="pre">literal_binds</span></code> flag through:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">compile_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;literal_binds&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}))</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../faq/sqlexpressions.html#faq-sql-expression-string"><span class="std std-ref">How do I render SQL expressions as strings, possibly with bound parameters inlined?</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.corresponding_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">corresponding_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_embedded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.corresponding_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.corresponding_column" title="sqlalchemy.sql.expression.Selectable.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.corresponding_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Given a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, return the exported
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> object from the
<a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a>
collection of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>
which corresponds to that
original <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> via a common ancestor
column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.corresponding_column.params.column"></span><strong>column</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.corresponding_column.params.column">¶</a> – the target <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
to be matched.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.corresponding_column.params.require_embedded"></span><strong>require_embedded</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.corresponding_column.params.require_embedded">¶</a> – only return corresponding columns for
the given <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, if the given
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
is actually present within a sub-element
of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.
Normally the column will match if
it merely shares a common ancestor with one of the exported
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a> - the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that is used for the operation.</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection.corresponding_column" title="sqlalchemy.sql.expression.ColumnCollection.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollection.corresponding_column()</span></code></a>
- implementation
method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.delete">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">whereclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete()</span></code></a> construct against this
<a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">7</span><span class="p">)</span></pre></div>
</div>
<p>See <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.delete" title="sqlalchemy.sql.expression.delete"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete()</span></code></a> for argument and usage information.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.entity_namespace">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">entity_namespace</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.entity_namespace" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.entity_namespace" title="sqlalchemy.sql.expression.FromClause.entity_namespace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.entity_namespace</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return a namespace used for name-based access in SQL expressions.</p>
<p>This is the namespace that is used to resolve “filter_by()” type
expressions, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="s1">&#39;some address&#39;</span><span class="p">)</span></pre></div>
</div>
<p>It defaults to the <code class="docutils literal notranslate"><span class="pre">.c</span></code> collection, however internally it can
be overridden using the “entity_namespace” annotation to deliver
alternative results.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.exported_columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.exported_columns" title="sqlalchemy.sql.expression.FromClause.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.exported_columns</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that represents the “exported”
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p>
<p>The “exported” columns for a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
object are synonymous
with the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a> collection.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exported_columns" title="sqlalchemy.sql.expression.SelectBase.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.exported_columns</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.foreign_keys">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">foreign_keys</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.foreign_keys" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.foreign_keys" title="sqlalchemy.sql.expression.FromClause.foreign_keys"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.foreign_keys</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return the collection of <a class="reference internal" href="constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> marker objects
which this FromClause references.</p>
<p>Each <a class="reference internal" href="constraints.html#sqlalchemy.schema.ForeignKey" title="sqlalchemy.schema.ForeignKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKey</span></code></a> is a member of a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a>-wide
<a class="reference internal" href="constraints.html#sqlalchemy.schema.ForeignKeyConstraint" title="sqlalchemy.schema.ForeignKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForeignKeyConstraint</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="metadata.html#sqlalchemy.schema.Table.foreign_key_constraints" title="sqlalchemy.schema.Table.foreign_key_constraints"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Table.foreign_key_constraints</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.get_children">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">get_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omit_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.get_children" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible.get_children" title="sqlalchemy.sql.visitors.Traversible.get_children"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Traversible.get_children()</span></code></a> <em>method of</em> <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a></p>
</div>
<p>Return immediate child <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a>
elements of this <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a>.</p>
<p>This is used for visit traversal.</p>
<p>**kw may contain flags that change the collection that is
returned, for example to return a subset of items in order to
cut down on larger traversals, or to return child items from a
different context (such as schema-level collections instead of
clause-level).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.implicit_returning">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">implicit_returning</span></span><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.implicit_returning" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>
doesn’t support having a primary key or column
-level defaults, so implicit returning doesn’t apply.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.insert">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a> construct against this
<a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span></pre></div>
</div>
<p>See <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.insert" title="sqlalchemy.sql.expression.insert"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert()</span></code></a> for argument and usage information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.is_derived_from">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">is_derived_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fromclause</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.is_derived_from" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.is_derived_from" title="sqlalchemy.sql.expression.FromClause.is_derived_from"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.is_derived_from()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> if this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> is
‘derived’ from the given <code class="docutils literal notranslate"><span class="pre">FromClause</span></code>.</p>
<p>An example would be an Alias of a Table is derived from that Table.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.join">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isouter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.join" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> from this
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
to another <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">join</span>

<span class="n">j</span> <span class="o">=</span> <span class="n">user_table</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">address_table</span><span class="p">,</span>
                <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span>
<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">user_table</span><span class="p">)</span><span class="o">.</span><span class="n">select_from</span><span class="p">(</span><span class="n">j</span><span class="p">)</span></pre></div>
</div>
<p>would emit SQL along the lines of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">user</span>
<span class="n">JOIN</span> <span class="n">address</span> <span class="n">ON</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="n">user_id</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.join.params.right"></span><strong>right</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.join.params.right">¶</a> – the right side of the join; this is any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object such as a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, and
may also be a selectable-compatible object such as an ORM-mapped
class.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.join.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.join.params.onclause">¶</a> – a SQL expression representing the ON clause of the
join.  If left at <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a>
will attempt to
join the two tables based on a foreign key relationship.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.join.params.isouter"></span><strong>isouter</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.join.params.isouter">¶</a> – if True, render a LEFT OUTER JOIN, instead of JOIN.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.join.params.full"></span><strong>full</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.join.params.full">¶</a> – <p>if True, render a FULL OUTER JOIN, instead of LEFT OUTER
JOIN.  Implies <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join.params.isouter" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">FromClause.join.isouter</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.join" title="sqlalchemy.sql.expression.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">join()</span></code></a> - standalone function</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> - the type of object produced</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.lateral">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.lateral" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.lateral" title="sqlalchemy.sql.expression.Selectable.lateral"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.lateral()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Return a LATERAL alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p>
<p>The return value is the <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> construct also
provided by the top-level <a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#lateral-selects"><span class="std std-ref">LATERAL correlation</span></a> -  overview of usage.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.memoized_attribute">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">memoized_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.memoized_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>A read-only &#64;property that is only evaluated once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.memoized_instancemethod">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">memoized_instancemethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.memoized_instancemethod" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">HasMemoized.memoized_instancemethod()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">HasMemoized</span></code></p>
</div>
<p>Decorate a method memoize its return value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.outerjoin">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">outerjoin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.outerjoin" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.outerjoin" title="sqlalchemy.sql.expression.FromClause.outerjoin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.outerjoin()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return a <a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a> from this
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
to another <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>, with the “isouter” flag set to
True.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">outerjoin</span>

<span class="n">j</span> <span class="o">=</span> <span class="n">user_table</span><span class="o">.</span><span class="n">outerjoin</span><span class="p">(</span><span class="n">address_table</span><span class="p">,</span>
                <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">)</span></pre></div>
</div>
<p>The above is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">j</span> <span class="o">=</span> <span class="n">user_table</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="n">address_table</span><span class="p">,</span>
    <span class="n">user_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">address_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
    <span class="n">isouter</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.outerjoin.params.right"></span><strong>right</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.outerjoin.params.right">¶</a> – the right side of the join; this is any
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> object such as a
<a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, and
may also be a selectable-compatible object such as an ORM-mapped
class.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.outerjoin.params.onclause"></span><strong>onclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.outerjoin.params.onclause">¶</a> – a SQL expression representing the ON clause of the
join.  If left at <code class="docutils literal notranslate"><span class="pre">None</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a>
will attempt to
join the two tables based on a foreign key relationship.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.outerjoin.params.full"></span><strong>full</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.outerjoin.params.full">¶</a> – <p>if True, render a FULL OUTER JOIN, instead of
LEFT OUTER JOIN.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.join" title="sqlalchemy.sql.expression.FromClause.join"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.join()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Join" title="sqlalchemy.sql.expression.Join"><code class="xref py py-class docutils literal notranslate"><span class="pre">Join</span></code></a></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.primary_key">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">primary_key</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.primary_key" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.primary_key" title="sqlalchemy.sql.expression.FromClause.primary_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.primary_key</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return the iterable collection of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects
which comprise the primary key of this <code class="xref py py-class docutils literal notranslate"><span class="pre">_selectable.FromClause</span></code>.</p>
<p>For a <a class="reference internal" href="metadata.html#sqlalchemy.schema.Table" title="sqlalchemy.schema.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object, this collection is represented
by the <a class="reference internal" href="constraints.html#sqlalchemy.schema.PrimaryKeyConstraint" title="sqlalchemy.schema.PrimaryKeyConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrimaryKeyConstraint</span></code></a> which itself is an
iterable collection of <a class="reference internal" href="metadata.html#sqlalchemy.schema.Column" title="sqlalchemy.schema.Column"><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></a> objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.replace_selectable">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">replace_selectable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.replace_selectable" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Replace all occurrences of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
‘old’ with the given <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object, returning a copy of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> method is deprecated, and will be removed in a future release.  Similar functionality is available via the sqlalchemy.sql.visitors module.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">whereclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.select" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.select" title="sqlalchemy.sql.expression.FromClause.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.select()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return a SELECT of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">some_table</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">some_table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.select.params.whereclause"></span><strong>whereclause</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.select.params.whereclause">¶</a> – <p>a WHERE clause, equivalent to calling the
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> method.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.select.params.whereclause" title="sqlalchemy.sql.expression.FromClause.select"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">FromClause.select().whereclause</span></code></a> parameter is deprecated and will be removed in version 2.0.  Please make use of the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.where" title="sqlalchemy.sql.expression.Select.where"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.where()</span></code></a> method to add WHERE criteria to the SELECT statement.</p>
</div>
</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableClause.select.params.**kwargs"></span><strong>**kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableClause.select.params.**kwargs">¶</a> – additional keyword arguments are passed to the
legacy constructor for <a class="reference internal" href="#sqlalchemy.sql.expression.Select" title="sqlalchemy.sql.expression.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a> described at
<a class="reference internal" href="#sqlalchemy.sql.expression.Select.create_legacy_select" title="sqlalchemy.sql.expression.Select.create_legacy_select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.create_legacy_select()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a> - general purpose
method which allows for arbitrary column lists.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.self_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">self_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">against</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.self_group" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Apply a ‘grouping’ to this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>This method is overridden by subclasses to return a “grouping”
construct, i.e. parenthesis.   In particular it’s used by “binary”
expressions to provide a grouping around themselves when placed into a
larger expression, as well as by <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
constructs when placed into the FROM clause of another
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.  (Note that subqueries should be
normally created using the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.alias()</span></code></a> method,
as many
platforms require nested SELECT statements to be named).</p>
<p>As expressions are composed together, the application of
<a class="reference internal" href="#sqlalchemy.sql.expression.TableClause.self_group" title="sqlalchemy.sql.expression.TableClause.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> is automatic - end-user code should never
need to use this method directly.  Note that SQLAlchemy’s
clause constructs take operator precedence into account -
so parenthesis might not be needed, for example, in
an expression like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence
over OR.</p>
<p>The base <a class="reference internal" href="#sqlalchemy.sql.expression.TableClause.self_group" title="sqlalchemy.sql.expression.TableClause.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> method of
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
just returns self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.table_valued">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">table_valued</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.table_valued" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.table_valued" title="sqlalchemy.sql.expression.FromClause.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.table_valued()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return a <code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedColumn</span></code> object for this
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedColumn</span></code> is a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> that
represents a complete row in a table. Support for this construct is
backend dependent, and is supported in various forms by backends
such as PostgreSQL, Oracle and SQL Server.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">row_to_json</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">table_valued</span><span class="p">()))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
<span class="go">SELECT row_to_json(a) AS row_to_json_1</span>
<span class="go">FROM a</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions"><span class="std std-ref">Working with SQL Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.tablesample">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">tablesample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampling</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.tablesample" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.tablesample" title="sqlalchemy.sql.expression.FromClause.tablesample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.tablesample()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a></p>
</div>
<p>Return a TABLESAMPLE alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<p>The return value is the <a class="reference internal" href="#sqlalchemy.sql.expression.TableSample" title="sqlalchemy.sql.expression.TableSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableSample</span></code></a>
construct also
provided by the top-level <a class="reference internal" href="#sqlalchemy.sql.expression.tablesample" title="sqlalchemy.sql.expression.tablesample"><code class="xref py py-func docutils literal notranslate"><span class="pre">tablesample()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.tablesample" title="sqlalchemy.sql.expression.tablesample"><code class="xref py py-func docutils literal notranslate"><span class="pre">tablesample()</span></code></a> - usage guidelines and parameters</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableClause.update">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableClause"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableClause.</span></code></a><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">whereclause</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableClause.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> construct against this
<a class="reference internal" href="#sqlalchemy.sql.expression.TableClause" title="sqlalchemy.sql.expression.TableClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableClause</span></code></a>.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table</span><span class="o">.</span><span class="n">update</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="o">==</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span></pre></div>
</div>
<p>See <a class="reference internal" href="dml.html#sqlalchemy.sql.expression.update" title="sqlalchemy.sql.expression.update"><code class="xref py py-func docutils literal notranslate"><span class="pre">update()</span></code></a> for argument and usage information.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableSample">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">TableSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableSample" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a TABLESAMPLE clause.</p>
<p>This object is constructed from the <a class="reference internal" href="#sqlalchemy.sql.expression.tablesample" title="sqlalchemy.sql.expression.tablesample"><code class="xref py py-func docutils literal notranslate"><span class="pre">tablesample()</span></code></a> module
level function as well as the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.tablesample" title="sqlalchemy.sql.expression.FromClause.tablesample"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.tablesample()</span></code></a>
method
available on all <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> subclasses.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.tablesample" title="sqlalchemy.sql.expression.tablesample"><code class="xref py py-func docutils literal notranslate"><span class="pre">tablesample()</span></code></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.TableSample" title="sqlalchemy.sql.expression.TableSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableSample</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.AliasedReturnsRows" title="sqlalchemy.sql.expression.AliasedReturnsRows"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.AliasedReturnsRows</span></code></a>)</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableValuedAlias">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">TableValuedAlias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableValuedAlias" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias against a “table valued” SQL function.</p>
<p>This construct provides for a SQL function that returns columns
to be used in the FROM clause of a SELECT statement.   The
object is generated using the <a class="reference internal" href="functions.html#sqlalchemy.sql.functions.FunctionElement.table_valued" title="sqlalchemy.sql.functions.FunctionElement.table_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.table_valued()</span></code></a>
method, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fn</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">json_array_elements_text</span><span class="p">(</span><span class="s1">&#39;[&quot;one&quot;, &quot;two&quot;, &quot;three&quot;]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">table_valued</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">fn</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
<span class="go">SELECT anon_1.value</span>
<span class="go">FROM json_array_elements_text(:json_array_elements_text_1) AS anon_1</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0b2.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-functions-table-valued"><span class="std std-ref">Table-Valued Functions</span></a> - in the <a class="reference internal" href="../tutorial/index.html#unified-tutorial"><span class="std std-ref">SQLAlchemy 1.4 / 2.0 Tutorial</span></a></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableValuedAlias</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Alias</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableValuedAlias.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableValuedAlias.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableValuedAlias.alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedAlias</span></code></a>.</p>
<p>This creates a distinct FROM object that will be distinguished
from the original one when used in a SQL statement.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableValuedAlias.column">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableValuedAlias.</span></code></a><span class="sig-name descname"><span class="pre">column</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TableValuedAlias.column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a column expression representing this
<a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedAlias</span></code></a>.</p>
<p>This accessor is used to implement the
<a class="reference internal" href="functions.html#sqlalchemy.sql.functions.FunctionElement.column_valued" title="sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a> method. See that
method for further details.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">some_func</span><span class="p">()</span><span class="o">.</span><span class="n">table_valued</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">column</span><span class="p">))</span>
<span class="go">SELECT anon_1 FROM some_func() AS anon_1</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="functions.html#sqlalchemy.sql.functions.FunctionElement.column_valued" title="sqlalchemy.sql.functions.FunctionElement.column_valued"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionElement.column_valued()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableValuedAlias.lateral">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableValuedAlias.</span></code></a><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableValuedAlias.lateral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedAlias</span></code></a> with the lateral flag set,
so that it renders as LATERAL.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TableValuedAlias.render_derived">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TableValuedAlias.</span></code></a><span class="sig-name descname"><span class="pre">render_derived</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TableValuedAlias.render_derived" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply “render derived” to this <a class="reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias" title="sqlalchemy.sql.expression.TableValuedAlias"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableValuedAlias</span></code></a>.</p>
<p>This has the effect of the individual column names listed out
after the alias name in the “AS” sequence, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">func</span><span class="o">.</span><span class="n">unnest</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">]))</span><span class="o">.</span>
<span class="go">            table_valued(&quot;x&quot;, with_ordinality=&quot;o&quot;).render_derived()</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">SELECT anon_1.x, anon_1.o</span>
<span class="go">FROM unnest(ARRAY[%(param_1)s, %(param_2)s, %(param_3)s]) WITH ORDINALITY AS anon_1(x, o)</span></pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">with_types</span></code> keyword will render column types inline within
the alias expression (this syntax currently applies to the
PostgreSQL database):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">func</span><span class="o">.</span><span class="n">json_to_recordset</span><span class="p">(</span>
<span class="gp">... </span>            <span class="s1">&#39;[{&quot;a&quot;:1,&quot;b&quot;:&quot;foo&quot;},{&quot;a&quot;:&quot;2&quot;,&quot;c&quot;:&quot;bar&quot;}]&#39;</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span>        <span class="o">.</span><span class="n">table_valued</span><span class="p">(</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">))</span>
<span class="gp">... </span>        <span class="o">.</span><span class="n">render_derived</span><span class="p">(</span><span class="n">with_types</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">SELECT anon_1.a, anon_1.b FROM json_to_recordset(:json_to_recordset_1)</span>
<span class="go">AS anon_1(a INTEGER, b VARCHAR)</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TableValuedAlias.render_derived.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias.render_derived.params.name">¶</a> – optional string name that will be applied to the alias
generated.  If left as None, a unique anonymizing name will be used.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TableValuedAlias.render_derived.params.with_types"></span><strong>with_types</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TableValuedAlias.render_derived.params.with_types">¶</a> – if True, the derived columns will include the
datatype specification with each column. This is a special syntax
currently known to be required by PostgreSQL for some SQL functions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">TextualSelect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positional</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> construct within a
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
interface.</p>
<p>This allows the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> object to gain a
<code class="docutils literal notranslate"><span class="pre">.c</span></code> collection
and other FROM-like capabilities such as
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>,
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.cte" title="sqlalchemy.sql.expression.SelectBase.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.cte()</span></code></a>, etc.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextualSelect</span></code></a> construct is produced via the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause.columns" title="sqlalchemy.sql.expression.TextClause.columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextClause.columns()</span></code></a>
method - see that method for details.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>the <a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextualSelect</span></code></a>
class was renamed
from <code class="docutils literal notranslate"><span class="pre">TextAsFrom</span></code>, to more correctly suit its role as a
SELECT-oriented object and not a FROM clause.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.text" title="sqlalchemy.sql.expression.text"><code class="xref py py-func docutils literal notranslate"><span class="pre">text()</span></code></a></p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause.columns" title="sqlalchemy.sql.expression.TextClause.columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextClause.columns()</span></code></a> - primary creation interface.</p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect</span></code></a> (<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.SelectBase</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.add_cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">add_cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cte</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.add_cte" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.add_cte" title="sqlalchemy.sql.expression.HasCTE.add_cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.add_cte()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></p>
</div>
<p>Add a <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> to this statement object that will be
independently rendered even if not referenced in the statement
otherwise.</p>
<p>This feature is useful for the use case of embedding a DML statement
such as an INSERT or UPDATE as a CTE inline with a primary statement
that may draw from its results indirectly; while PostgreSQL is known
to support this usage, it may not be supported by other backends.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c1&#39;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;c2&#39;</span><span class="p">))</span>

<span class="n">ins</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">cte</span><span class="p">()</span>

<span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">ins</span><span class="p">)</span></pre></div>
</div>
<p>Would render:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">anon_1</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(:</span><span class="n">param_1</span><span class="p">,</span> <span class="p">:</span><span class="n">param_2</span><span class="p">))</span>
<span class="n">SELECT</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">c2</span>
<span class="n">FROM</span> <span class="n">t</span></pre></div>
</div>
<p>Above, the “anon_1” CTE is not referred towards in the SELECT
statement, however still accomplishes the task of running an INSERT
statement.</p>
<p>Similarly in a DML-related context, using the PostgreSQL
<a class="reference internal" href="../dialects/postgresql.html#sqlalchemy.dialects.postgresql.Insert" title="sqlalchemy.dialects.postgresql.Insert"><code class="xref py py-class docutils literal notranslate"><span class="pre">Insert</span></code></a> construct to generate an “upsert”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.dialects.postgresql</span> <span class="kn">import</span> <span class="n">insert</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c1&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;c2&quot;</span><span class="p">))</span>

<span class="n">delete_statement_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">t</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;deletions&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">insert_stmt</span> <span class="o">=</span> <span class="n">insert</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">({</span><span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">update_statement</span> <span class="o">=</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">on_conflict_do_update</span><span class="p">(</span>
    <span class="n">index_elements</span><span class="o">=</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">c1</span><span class="p">],</span>
    <span class="n">set_</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span>
        <span class="s2">&quot;c2&quot;</span><span class="p">:</span> <span class="n">insert_stmt</span><span class="o">.</span><span class="n">excluded</span><span class="o">.</span><span class="n">c2</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_cte</span><span class="p">(</span><span class="n">delete_statement_cte</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">update_statement</span><span class="p">)</span></pre></div>
</div>
<p>The above statement renders as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">deletions</span> <span class="n">AS</span>
<span class="p">(</span><span class="n">DELETE</span> <span class="n">FROM</span> <span class="n">t</span> <span class="n">WHERE</span> <span class="n">t</span><span class="o">.</span><span class="n">c1</span> <span class="o">&lt;</span> <span class="o">%</span><span class="p">(</span><span class="n">c1_1</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">INSERT</span> <span class="n">INTO</span> <span class="n">t</span> <span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="n">VALUES</span> <span class="p">(</span><span class="o">%</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span><span class="n">s</span><span class="p">,</span> <span class="o">%</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span><span class="n">s</span><span class="p">)</span>
<span class="n">ON</span> <span class="n">CONFLICT</span> <span class="p">(</span><span class="n">c1</span><span class="p">)</span> <span class="n">DO</span> <span class="n">UPDATE</span> <span class="n">SET</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">excluded</span><span class="o">.</span><span class="n">c2</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.21.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.alias" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.alias" title="sqlalchemy.sql.expression.SelectBase.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.alias()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a named subquery against this
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>.</p>
<p>For a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a> (as opposed to a
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>),
this returns a <a class="reference internal" href="#sqlalchemy.sql.expression.Subquery" title="sqlalchemy.sql.expression.Subquery"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subquery</span></code></a> object which behaves mostly the
same as the <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> object that is used with a
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.alias" title="sqlalchemy.sql.expression.SelectBase.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.alias()</span></code></a>
method is now
a synonym for the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.as_scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">as_scalar</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.as_scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a> method is deprecated and will be removed in a future release.  Please refer to <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="sqlalchemy.sql.expression.SelectBase.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.scalar_subquery()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.bind">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">bind</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.bind" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Returns the <a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>
to
which this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a> is bound, or None if none found.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.bind" title="sqlalchemy.sql.expression.Executable.bind"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Executable.bind</span></code></a> attribute is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Bound metadata is being removed as of SQLAlchemy 2.0. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
<p>This is a traversal which checks locally, then
checks among the “from” clauses of associated objects
until a bound engine or connection is found.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.c">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">c</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.c" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.c" title="sqlalchemy.sql.expression.SelectBase.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.c</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.c" title="sqlalchemy.sql.expression.SelectBase.c"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.c</span></code></a> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.columns</span></code> attributes are deprecated and will be removed in a future release; these attributes implicitly create a subquery that should be explicit.  Please call <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> first in order to create a subquery, which then contains this attribute.  To access the columns that this SELECT object SELECTs from, use the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="sqlalchemy.sql.expression.SelectBase.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.selected_columns</span></code></a> attribute.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.compare">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.compare" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compare" title="sqlalchemy.sql.expression.ClauseElement.compare"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.compare()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Compare this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a> to
the given <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>Subclasses should override the default behavior, which is a
straight identity comparison.</p>
<p>**kw are arguments consumed by subclass <code class="docutils literal notranslate"><span class="pre">compare()</span></code> methods and
may be used to modify the criteria for comparison
(see <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.compile">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">compile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.compile" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.compile" title="sqlalchemy.sql.expression.ClauseElement.compile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.compile()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Compile this SQL expression.</p>
<p>The return value is a <a class="reference internal" href="internals.html#sqlalchemy.engine.Compiled" title="sqlalchemy.engine.Compiled"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compiled</span></code></a> object.
Calling <code class="docutils literal notranslate"><span class="pre">str()</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode()</span></code> on the returned value will yield a
string representation of the result. The
<a class="reference internal" href="internals.html#sqlalchemy.engine.Compiled" title="sqlalchemy.engine.Compiled"><code class="xref py py-class docutils literal notranslate"><span class="pre">Compiled</span></code></a> object also can return a
dictionary of bind parameter names and values
using the <code class="docutils literal notranslate"><span class="pre">params</span></code> accessor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.compile.params.bind"></span><strong>bind</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.compile.params.bind">¶</a> – An <code class="docutils literal notranslate"><span class="pre">Engine</span></code> or <code class="docutils literal notranslate"><span class="pre">Connection</span></code> from which a
<code class="docutils literal notranslate"><span class="pre">Compiled</span></code> will be acquired. This argument takes precedence over
this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>’s bound engine, if any.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.compile.params.column_keys"></span><strong>column_keys</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.compile.params.column_keys">¶</a> – Used for INSERT and UPDATE statements, a list of
column names which should be present in the VALUES clause of the
compiled statement. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all columns from the target table
object are rendered.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.compile.params.dialect"></span><strong>dialect</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.compile.params.dialect">¶</a> – A <code class="docutils literal notranslate"><span class="pre">Dialect</span></code> instance from which a <code class="docutils literal notranslate"><span class="pre">Compiled</span></code>
will be acquired. This argument takes precedence over the <cite>bind</cite>
argument as well as this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
‘s bound engine,
if any.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.compile.params.compile_kwargs"></span><strong>compile_kwargs</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.compile.params.compile_kwargs">¶</a> – <p>optional dictionary of additional parameters
that will be passed through to the compiler within all “visit”
methods.  This allows any custom flag to be passed through to
a custom compilation construct, for example.  It is also used
for the case of passing the <code class="docutils literal notranslate"><span class="pre">literal_binds</span></code> flag through:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy.sql</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">compile_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;literal_binds&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}))</span></pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.0.</span></p>
</div>
</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../faq/sqlexpressions.html#faq-sql-expression-string"><span class="std std-ref">How do I render SQL expressions as strings, possibly with bound parameters inlined?</span></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.corresponding_column">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">corresponding_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_embedded</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.corresponding_column" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.corresponding_column" title="sqlalchemy.sql.expression.Selectable.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.corresponding_column()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Given a <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, return the exported
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> object from the
<a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a>
collection of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>
which corresponds to that
original <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> via a common ancestor
column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.corresponding_column.params.column"></span><strong>column</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.corresponding_column.params.column">¶</a> – the target <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
to be matched.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.corresponding_column.params.require_embedded"></span><strong>require_embedded</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.corresponding_column.params.require_embedded">¶</a> – only return corresponding columns for
the given <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>, if the given
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a>
is actually present within a sub-element
of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.
Normally the column will match if
it merely shares a common ancestor with one of the exported
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a> - the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that is used for the operation.</p>
<p><a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection.corresponding_column" title="sqlalchemy.sql.expression.ColumnCollection.corresponding_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ColumnCollection.corresponding_column()</span></code></a>
- implementation
method.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.cte">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">cte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.cte" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE" title="sqlalchemy.sql.expression.HasCTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCTE</span></code></a></p>
</div>
<p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a>,
or Common Table Expression instance.</p>
<p>Common table expressions are a SQL standard whereby SELECT
statements can draw upon secondary statements specified along
with the primary statement, using a clause called “WITH”.
Special semantics regarding UNION can also be employed to
allow “recursive” queries, where a SELECT statement can draw
upon the set of rows that have previously been selected.</p>
<p>CTEs can also be applied to DML constructs UPDATE, INSERT
and DELETE on some databases, both as a source of CTE rows
when combined with RETURNING, as well as a consumer of
CTE rows.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1: </span>Added support for UPDATE/INSERT/DELETE as
CTE, CTEs added to UPDATE/INSERT/DELETE.</p>
</div>
<p>SQLAlchemy detects <a class="reference internal" href="#sqlalchemy.sql.expression.CTE" title="sqlalchemy.sql.expression.CTE"><code class="xref py py-class docutils literal notranslate"><span class="pre">CTE</span></code></a> objects, which are treated
similarly to <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a> objects, as special elements
to be delivered to the FROM clause of the statement as well
as to a WITH clause at the top of the statement.</p>
<p>For special prefixes such as PostgreSQL “MATERIALIZED” and
“NOT MATERIALIZED”, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">CTE.prefix_with()</span></code>
method may be
used to establish these.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.3.13: </span>Added support for prefixes.
In particular - MATERIALIZED and NOT MATERIALIZED.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.cte.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.cte.params.name">¶</a> – name given to the common table expression.  Like
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>, the name can be left as
<code class="docutils literal notranslate"><span class="pre">None</span></code> in which case an anonymous symbol will be used at query
compile time.</p></li>
<li><p><span class="target" id="sqlalchemy.sql.expression.TextualSelect.cte.params.recursive"></span><strong>recursive</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.TextualSelect.cte.params.recursive">¶</a> – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, will render <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">RECURSIVE</span></code>.
A recursive common table expression is intended to be used in
conjunction with UNION ALL in order to derive rows
from those already selected.</p></li>
</ul>
</dd>
</dl>
<p>The following examples include two from PostgreSQL’s documentation at
<a class="reference external" href="https://www.postgresql.org/docs/current/static/queries-with.html">https://www.postgresql.org/docs/current/static/queries-with.html</a>,
as well as additional examples.</p>
<p>Example 1, non recursive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">orders</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;amount&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">regional_sales</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
                    <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_sales&#39;</span><span class="p">)</span>
                <span class="p">)</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;regional_sales&quot;</span><span class="p">)</span>


<span class="n">top_regions</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span><span class="o">.</span>\
        <span class="n">where</span><span class="p">(</span>
            <span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span> <span class="o">&gt;</span>
            <span class="n">select</span><span class="p">(</span>
                <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">regional_sales</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">total_sales</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10</span>
            <span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s2">&quot;top_regions&quot;</span><span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
            <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_units&quot;</span><span class="p">),</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">amount</span><span class="p">)</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;product_sales&quot;</span><span class="p">)</span>
    <span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span>
        <span class="n">select</span><span class="p">(</span><span class="n">top_regions</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">)</span>
    <span class="p">))</span><span class="o">.</span><span class="n">group_by</span><span class="p">(</span><span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">region</span><span class="p">,</span> <span class="n">orders</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 2, WITH RECURSIVE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">MetaData</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">parts</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;parts&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;sub_part&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">included_parts</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>\
    <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span> <span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>\
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="s1">&#39;our part&#39;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">cte</span><span class="p">(</span><span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">incl_alias</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">parts_alias</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">alias</span><span class="p">()</span>
<span class="n">included_parts</span> <span class="o">=</span> <span class="n">included_parts</span><span class="o">.</span><span class="n">union_all</span><span class="p">(</span>
    <span class="n">select</span><span class="p">(</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="p">,</span>
        <span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span>
    <span class="p">)</span><span class="o">.</span>\
    <span class="n">where</span><span class="p">(</span><span class="n">parts_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">part</span><span class="o">==</span><span class="n">incl_alias</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span>
            <span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">,</span>
            <span class="n">func</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">quantity</span><span class="p">)</span><span class="o">.</span>
              <span class="n">label</span><span class="p">(</span><span class="s1">&#39;total_quantity&#39;</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span>\
        <span class="n">group_by</span><span class="p">(</span><span class="n">included_parts</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">sub_part</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></pre></div>
</div>
<p>Example 3, an upsert using UPDATE and INSERT with CTEs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">MetaData</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">Column</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span>
                        <span class="n">Date</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">literal</span><span class="p">,</span> <span class="n">and_</span><span class="p">,</span> <span class="n">exists</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">()</span>

<span class="n">visitors</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;visitors&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">Date</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Column</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Integer</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># add 5 visitors for the product_id == 1</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">day</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">update_cte</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">visitors</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">and_</span><span class="p">(</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span> <span class="o">==</span> <span class="n">product_id</span><span class="p">,</span>
                <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">day</span><span class="p">))</span>
    <span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="n">count</span><span class="p">)</span>
    <span class="o">.</span><span class="n">returning</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="o">.</span><span class="n">cte</span><span class="p">(</span><span class="s1">&#39;update_cte&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">upsert</span> <span class="o">=</span> <span class="n">visitors</span><span class="o">.</span><span class="n">insert</span><span class="p">()</span><span class="o">.</span><span class="n">from_select</span><span class="p">(</span>
    <span class="p">[</span><span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">product_id</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">visitors</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">count</span><span class="p">],</span>
    <span class="n">select</span><span class="p">(</span><span class="n">literal</span><span class="p">(</span><span class="n">product_id</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">day</span><span class="p">),</span> <span class="n">literal</span><span class="p">(</span><span class="n">count</span><span class="p">))</span>
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">exists</span><span class="p">(</span><span class="n">update_cte</span><span class="o">.</span><span class="n">select</span><span class="p">()))</span>
<span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">upsert</span><span class="p">)</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.cte" title="sqlalchemy.orm.Query.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.cte()</span></code></a> - ORM version of
<a class="reference internal" href="#sqlalchemy.sql.expression.HasCTE.cte" title="sqlalchemy.sql.expression.HasCTE.cte"><code class="xref py py-meth docutils literal notranslate"><span class="pre">HasCTE.cte()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.execute">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.execute" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execute()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execute" title="sqlalchemy.sql.expression.Executable.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execute()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. All statement execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execute" title="sqlalchemy.engine.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.execute" title="sqlalchemy.orm.Session.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.execute()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">execution_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.execution_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Set non-SQL options for the statement which take effect during
execution.</p>
<p>Execution options can be set on a per-statement or
per <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> basis.   Additionally, the
<a class="reference internal" href="connections.html#sqlalchemy.engine.Engine" title="sqlalchemy.engine.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> and ORM <a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query" title="sqlalchemy.orm.query.Query"><code class="xref py py-class docutils literal notranslate"><span class="pre">Query</span></code></a>
objects provide
access to execution options which they in turn configure upon
connections.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect.execution_options" title="sqlalchemy.sql.expression.TextualSelect.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execution_options()</span></code></a> method is generative.  A new
instance of this statement is returned that contains the options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">statement</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<span class="n">statement</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="n">execution_options</span><span class="p">(</span><span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></pre></div>
</div>
<p>Note that only a subset of possible execution options can be applied
to a statement - these include “autocommit” and “stream_results”,
but not “isolation_level” or “compiled_cache”.
See <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a> for a full list of
possible options.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.execution_options" title="sqlalchemy.engine.Connection.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execution_options()</span></code></a></p>
<p><a class="reference internal" href="../orm/query.html#sqlalchemy.orm.Query.execution_options" title="sqlalchemy.orm.Query.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Query.execution_options()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="sqlalchemy.sql.expression.Executable.get_execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.get_execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.exists">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.exists" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exists" title="sqlalchemy.sql.expression.SelectBase.exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.exists()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return an <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a> representation of this selectable,
which can be used as a column expression.</p>
<p>The returned object is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.Exists" title="sqlalchemy.sql.expression.Exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exists</span></code></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.exists" title="sqlalchemy.sql.expression.exists"><code class="xref py py-func docutils literal notranslate"><span class="pre">exists()</span></code></a></p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-exists"><span class="std std-ref">EXISTS subqueries</span></a> - in the <a class="reference internal" href="../glossary.html#term-2.0-style"><span class="xref std std-term">2.0 style</span></a> tutorial.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.exported_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">exported_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.exported_columns" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.exported_columns" title="sqlalchemy.sql.expression.SelectBase.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.exported_columns</span></code></a> <em>attribute of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
that represents the “exported”
columns of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>, not including
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> constructs.</p>
<p>The “exported” columns for a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
object are synonymous
with the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.selected_columns" title="sqlalchemy.sql.expression.SelectBase.selected_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SelectBase.selected_columns</span></code></a> collection.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.exported_columns" title="sqlalchemy.sql.expression.Select.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Select.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.exported_columns" title="sqlalchemy.sql.expression.Selectable.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Selectable.exported_columns</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.exported_columns" title="sqlalchemy.sql.expression.FromClause.exported_columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.exported_columns</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.get_children">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">get_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">omit_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.get_children" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible.get_children" title="sqlalchemy.sql.visitors.Traversible.get_children"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Traversible.get_children()</span></code></a> <em>method of</em> <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a></p>
</div>
<p>Return immediate child <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a>
elements of this <a class="reference internal" href="visitors.html#sqlalchemy.sql.visitors.Traversible" title="sqlalchemy.sql.visitors.Traversible"><code class="xref py py-class docutils literal notranslate"><span class="pre">Traversible</span></code></a>.</p>
<p>This is used for visit traversal.</p>
<p>**kw may contain flags that change the collection that is
returned, for example to return a subset of items in order to
cut down on larger traversals, or to return child items from a
different context (such as schema-level collections instead of
clause-level).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.get_execution_options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">get_execution_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.get_execution_options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.get_execution_options" title="sqlalchemy.sql.expression.Executable.get_execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.get_execution_options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Get the non-SQL options which will take effect during execution.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Executable.execution_options" title="sqlalchemy.sql.expression.Executable.execution_options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.execution_options()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.label">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.label" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.label" title="sqlalchemy.sql.expression.SelectBase.label"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.label()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a ‘scalar’ representation of this selectable, embedded as a
subquery with a label.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.as_scalar" title="sqlalchemy.sql.expression.SelectBase.as_scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.as_scalar()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.lateral">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.lateral" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.lateral" title="sqlalchemy.sql.expression.SelectBase.lateral"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.lateral()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a LATERAL alias of this <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a>.</p>
<p>The return value is the <a class="reference internal" href="#sqlalchemy.sql.expression.Lateral" title="sqlalchemy.sql.expression.Lateral"><code class="xref py py-class docutils literal notranslate"><span class="pre">Lateral</span></code></a> construct also
provided by the top-level <a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#lateral-selects"><span class="std std-ref">LATERAL correlation</span></a> -  overview of usage.</p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.memoized_attribute">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">memoized_attribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.memoized_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>A read-only &#64;property that is only evaluated once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.memoized_instancemethod">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">memoized_instancemethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.memoized_instancemethod" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <code class="xref py py-meth docutils literal notranslate"><span class="pre">HasMemoized.memoized_instancemethod()</span></code> <em>method of</em> <code class="xref py py-class docutils literal notranslate"><span class="pre">HasMemoized</span></code></p>
</div>
<p>Decorate a method memoize its return value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.options">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.options" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.options" title="sqlalchemy.sql.expression.Executable.options"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.options()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Apply options to this statement.</p>
<p>In the general sense, options are any kind of Python object
that can be interpreted by the SQL compiler for the statement.
These options can be consumed by specific dialects or specific kinds
of compilers.</p>
<p>The most commonly known kind of option are the ORM level options
that apply “eager load” and other loading behaviors to an ORM
query.   However, options can theoretically be used for many other
purposes.</p>
<p>For background on specific kinds of options for specific kinds of
statements, refer to the documentation for those option objects.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.4: </span>- added <code class="xref py py-meth docutils literal notranslate"><span class="pre">Generative.options()</span></code> to
Core statement objects towards the goal of allowing unified
Core / ORM querying capabilities.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../orm/loading_columns.html#deferred-options"><span class="std std-ref">Deferred Column Loader Query Options</span></a> - refers to options specific to the usage
of ORM queries</p>
<p><a class="reference internal" href="../orm/loading_relationships.html#relationship-loader-options"><span class="std std-ref">Relationship Loading with Loader Options</span></a> - refers to options specific
to the usage of ORM queries</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.params">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">optionaldict</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.params" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.params" title="sqlalchemy.sql.expression.ClauseElement.params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Return a copy with <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal notranslate"><span class="pre">bindparam()</span></code></a> elements
replaced.</p>
<p>Returns a copy of this ClauseElement with
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal notranslate"><span class="pre">bindparam()</span></code></a>
elements replaced with values taken from the given dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">clause</span> <span class="o">=</span> <span class="n">column</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">bindparam</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">clause</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
<span class="go">{&#39;foo&#39;:None}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">clause</span><span class="o">.</span><span class="n">params</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span><span class="mi">7</span><span class="p">})</span><span class="o">.</span><span class="n">compile</span><span class="p">()</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
<span class="go">{&#39;foo&#39;:7}</span></pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.replace_selectable">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">replace_selectable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.replace_selectable" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable" title="sqlalchemy.sql.expression.Selectable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Selectable</span></code></a></p>
</div>
<p>Replace all occurrences of <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>
‘old’ with the given <a class="reference internal" href="#sqlalchemy.sql.expression.Alias" title="sqlalchemy.sql.expression.Alias"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alias</span></code></a>
object, returning a copy of this <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Selectable.replace_selectable" title="sqlalchemy.sql.expression.Selectable.replace_selectable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Selectable.replace_selectable()</span></code></a> method is deprecated, and will be removed in a future release.  Similar functionality is available via the sqlalchemy.sql.visitors module.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.scalar">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">scalar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">multiparams</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.scalar" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.scalar()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a></p>
</div>
<p>Compile and execute this <a class="reference internal" href="#sqlalchemy.sql.expression.Executable" title="sqlalchemy.sql.expression.Executable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Executable</span></code></a>, returning the
result’s scalar representation.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.Executable.scalar" title="sqlalchemy.sql.expression.Executable.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Executable.scalar()</span></code></a> method is considered legacy as of the 1.x series of SQLAlchemy and will be removed in 2.0. Scalar execution in SQLAlchemy 2.0 is performed by the <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection.scalar" title="sqlalchemy.engine.Connection.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.scalar()</span></code></a> method of <a class="reference internal" href="connections.html#sqlalchemy.engine.Connection" title="sqlalchemy.engine.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>, or in the ORM by the <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session.scalar" title="sqlalchemy.orm.Session.scalar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Session.scalar()</span></code></a> method of <a class="reference internal" href="../orm/session_api.html#sqlalchemy.orm.Session" title="sqlalchemy.orm.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">Session</span></code></a>. (Background on SQLAlchemy 2.0 at: <a class="reference internal" href="../changelog/migration_20.html"><span class="std std-ref">Migrating to SQLAlchemy 2.0</span></a>)</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.scalar_subquery">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">scalar_subquery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.scalar_subquery" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.scalar_subquery" title="sqlalchemy.sql.expression.SelectBase.scalar_subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.scalar_subquery()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a ‘scalar’ representation of this selectable, which can be
used as a column expression.</p>
<p>The returned object is an instance of <a class="reference internal" href="#sqlalchemy.sql.expression.ScalarSelect" title="sqlalchemy.sql.expression.ScalarSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScalarSelect</span></code></a>.</p>
<p>Typically, a select statement which has only one column in its columns
clause is eligible to be used as a scalar expression.  The scalar
subquery can then be used in the WHERE clause or columns clause of
an enclosing SELECT.</p>
<p>Note that the scalar subquery differentiates from the FROM-level
subquery that can be produced using the
<a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../tutorial/data_select.html#tutorial-scalar-subquery"><span class="std std-ref">Scalar and Correlated Subqueries</span></a> - in the 2.0 tutorial</p>
<p><a class="reference internal" href="tutorial.html#scalar-selects"><span class="std std-ref">Scalar Selects</span></a> - in the 1.x tutorial</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.select">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.select" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.select" title="sqlalchemy.sql.expression.SelectBase.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.select()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.4: </span>The <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.select" title="sqlalchemy.sql.expression.SelectBase.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.select()</span></code></a> method is deprecated and will be removed in a future release; this method implicitly creates a subquery that should be explicit.  Please call <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> first in order to create a subquery, which then can be selected.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.selected_columns">
<em class="property"><span class="pre">attribute</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">selected_columns</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.selected_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnCollection" title="sqlalchemy.sql.expression.ColumnCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnCollection</span></code></a>
representing the columns that
this SELECT statement or similar construct returns in its result set,
not including <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause" title="sqlalchemy.sql.expression.TextClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextClause</span></code></a> constructs.</p>
<p>This collection differs from the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.columns" title="sqlalchemy.sql.expression.FromClause.columns"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FromClause.columns</span></code></a>
collection of a <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">FromClause</span></code></a> in that the columns
within this collection cannot be directly nested inside another SELECT
statement; a subquery must be applied first which provides for the
necessary parenthesization required by SQL.</p>
<p>For a <a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect" title="sqlalchemy.sql.expression.TextualSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextualSelect</span></code></a> construct, the collection
contains the <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ColumnElement" title="sqlalchemy.sql.expression.ColumnElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ColumnElement</span></code></a> objects that were
passed to the constructor, typically via the
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.TextClause.columns" title="sqlalchemy.sql.expression.TextClause.columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TextClause.columns()</span></code></a> method.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.self_group">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">self_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">against</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.self_group" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.self_group" title="sqlalchemy.sql.expression.ClauseElement.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.self_group()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Apply a ‘grouping’ to this <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>.</p>
<p>This method is overridden by subclasses to return a “grouping”
construct, i.e. parenthesis.   In particular it’s used by “binary”
expressions to provide a grouping around themselves when placed into a
larger expression, as well as by <a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>
constructs when placed into the FROM clause of another
<a class="reference internal" href="#sqlalchemy.sql.expression.select" title="sqlalchemy.sql.expression.select"><code class="xref py py-func docutils literal notranslate"><span class="pre">select()</span></code></a>.  (Note that subqueries should be
normally created using the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.alias" title="sqlalchemy.sql.expression.Select.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.alias()</span></code></a> method,
as many
platforms require nested SELECT statements to be named).</p>
<p>As expressions are composed together, the application of
<a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect.self_group" title="sqlalchemy.sql.expression.TextualSelect.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> is automatic - end-user code should never
need to use this method directly.  Note that SQLAlchemy’s
clause constructs take operator precedence into account -
so parenthesis might not be needed, for example, in
an expression like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">OR</span> <span class="pre">(y</span> <span class="pre">AND</span> <span class="pre">z)</span></code> - AND takes precedence
over OR.</p>
<p>The base <a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect.self_group" title="sqlalchemy.sql.expression.TextualSelect.self_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">self_group()</span></code></a> method of
<a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a>
just returns self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.subquery">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">subquery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.subquery" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a> <em>method of</em> <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a></p>
</div>
<p>Return a subquery of this <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>.</p>
<p>A subquery is from a SQL perspective a parenthesized, named
construct that can be placed in the FROM clause of another
SELECT statement.</p>
<p>Given a SELECT statement such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></pre></div>
</div>
<p>The above statement might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">table</span></pre></div>
</div>
<p>The subquery form by itself renders the same way, however when
embedded into the FROM clause of another SELECT statement, it becomes
a named sub-element:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subq</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="n">subquery</span><span class="p">()</span>
<span class="n">new_stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">subq</span><span class="p">)</span></pre></div>
</div>
<p>The above renders as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">anon_1</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">anon_1</span><span class="o">.</span><span class="n">name</span>
<span class="n">FROM</span> <span class="p">(</span><span class="n">SELECT</span> <span class="n">table</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">name</span> <span class="n">FROM</span> <span class="n">table</span><span class="p">)</span> <span class="n">AS</span> <span class="n">anon_1</span></pre></div>
</div>
<p>Historically, <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
is equivalent to calling
the <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a>
method on a FROM object; however,
as a <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase" title="sqlalchemy.sql.expression.SelectBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SelectBase</span></code></a>
object is not directly  FROM object,
the <a class="reference internal" href="#sqlalchemy.sql.expression.SelectBase.subquery" title="sqlalchemy.sql.expression.SelectBase.subquery"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SelectBase.subquery()</span></code></a>
method provides clearer semantics.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.TextualSelect.unique_params">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.TextualSelect"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.TextualSelect.</span></code></a><span class="sig-name descname"><span class="pre">unique_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">optionaldict</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.TextualSelect.unique_params" title="Permalink to this definition">¶</a></dt>
<dd><div class="inherited-member docutils container">
<p><em>inherited from the</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.unique_params" title="sqlalchemy.sql.expression.ClauseElement.unique_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.unique_params()</span></code></a> <em>method of</em> <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement" title="sqlalchemy.sql.expression.ClauseElement"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClauseElement</span></code></a></p>
</div>
<p>Return a copy with <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.bindparam" title="sqlalchemy.sql.expression.bindparam"><code class="xref py py-func docutils literal notranslate"><span class="pre">bindparam()</span></code></a> elements
replaced.</p>
<p>Same functionality as <a class="reference internal" href="sqlelement.html#sqlalchemy.sql.expression.ClauseElement.params" title="sqlalchemy.sql.expression.ClauseElement.params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ClauseElement.params()</span></code></a>,
except adds <cite>unique=True</cite>
to affected bind parameters so that multiple statements can be
used.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Values">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">Values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Values" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a <code class="docutils literal notranslate"><span class="pre">VALUES</span></code> construct that can be used as a FROM element
in a statement.</p>
<p>The <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a> object is created from the
<a class="reference internal" href="#sqlalchemy.sql.expression.values" title="sqlalchemy.sql.expression.values"><code class="xref py py-func docutils literal notranslate"><span class="pre">values()</span></code></a> function.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="class-bases docutils container">
<p><strong>Class signature</strong></p>
<p>class <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Values</span></code></a> (<code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Generative</span></code>, <a class="reference internal" href="#sqlalchemy.sql.expression.FromClause" title="sqlalchemy.sql.expression.FromClause"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.FromClause</span></code></a>)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Values.__init__">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Values"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Values.</span></code></a><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Values.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a> object.</p>
<p>This constructor is mirrored as a public API function; see <a class="reference internal" href="#sqlalchemy.sql.expression.values" title="sqlalchemy.sql.expression.values"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.values()</span></code></a> for a full usage and argument description.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Values.alias">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Values"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Values.</span></code></a><span class="sig-name descname"><span class="pre">alias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Values.alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a>
construct that is a copy of this
one with the given name.</p>
<p>This method is a VALUES-specific specialization of the
<a class="reference internal" href="#sqlalchemy.sql.expression.FromClause.alias" title="sqlalchemy.sql.expression.FromClause.alias"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FromClause.alias()</span></code></a> method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tutorial.html#core-tutorial-aliases"><span class="std std-ref">Using Aliases and Subqueries</span></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.alias" title="sqlalchemy.sql.expression.alias"><code class="xref py py-func docutils literal notranslate"><span class="pre">alias()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Values.data">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Values"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Values.</span></code></a><span class="sig-name descname"><span class="pre">data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Values.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a> construct,
adding the given data
to the data list.</p>
<p>E.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_values</span> <span class="o">=</span> <span class="n">my_values</span><span class="o">.</span><span class="n">data</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;value 1&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">)])</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="sqlalchemy.sql.expression.Values.data.params.values"></span><strong>values</strong><a class="paramlink headerlink reference internal" href="#sqlalchemy.sql.expression.Values.data.params.values">¶</a> – a sequence (i.e. list) of tuples that map to the
column expressions given in the <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a>
constructor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.Values.lateral">
<em class="property"><span class="pre">method</span> </em><a class="reference internal" href="#sqlalchemy.sql.expression.Values"><code class="docutils literal notranslate"><span class="pre">sqlalchemy.sql.expression.Values.</span></code></a><span class="sig-name descname"><span class="pre">lateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sqlalchemy.sql.expression.Values.lateral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#sqlalchemy.sql.expression.Values" title="sqlalchemy.sql.expression.Values"><code class="xref py py-class docutils literal notranslate"><span class="pre">Values</span></code></a> with the lateral flag set,
so that
it renders as LATERAL.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.lateral" title="sqlalchemy.sql.expression.lateral"><code class="xref py py-func docutils literal notranslate"><span class="pre">lateral()</span></code></a></p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="label-style-constants">
<h2>Label Style Constants<a class="headerlink" href="#label-style-constants" title="Permalink to this headline">¶</a></h2>
<p>Constants used with the <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.set_label_style" title="sqlalchemy.sql.expression.GenerativeSelect.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.set_label_style()</span></code></a>
method.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head">Object Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DEFAULT"><span class="sig-name descname">LABEL_STYLE_DEFAULT</span></a></p></td>
<td><p>The default label style, refers to <a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><span class="sig-name descname">LABEL_STYLE_DISAMBIGUATE_ONLY</span></a></p></td>
<td><p>Label style indicating that columns with a name that conflicts with
an existing name should be labeled with a semi-anonymizing label
when generating the columns clause of a SELECT statement.</p></td>
</tr>
<tr class="row-even"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_NONE"><span class="sig-name descname">LABEL_STYLE_NONE</span></a></p></td>
<td><p>Label style indicating no automatic labeling should be applied to the
columns clause of a SELECT statement.</p></td>
</tr>
<tr class="row-odd"><td class="nowrap"><p><a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><span class="sig-name descname">LABEL_STYLE_TABLENAME_PLUS_COL</span></a></p></td>
<td><p>Label style indicating all columns should be labeled as
<code class="docutils literal notranslate"><span class="pre">&lt;tablename&gt;_&lt;columnname&gt;</span></code> when generating the columns clause of a SELECT
statement, to disambiguate same-named columns referenced from different
tables, aliases, or subqueries.</p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY">
<span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></span><em class="property"> <span class="pre">=</span> <span class="pre">symbol('LABEL_STYLE_DISAMBIGUATE_ONLY')</span></em><a class="headerlink" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="Permalink to this definition">¶</a></dt>
<dd><p>Label style indicating that columns with a name that conflicts with
an existing name should be labeled with a semi-anonymizing label
when generating the columns clause of a SELECT statement.</p>
<p>Below, most column names are left unaffected, except for the second
occurrence of the name <code class="docutils literal notranslate"><span class="pre">columna</span></code>, which is labeled using the
label <code class="docutils literal notranslate"><span class="pre">columna_1</span></code> to disambiguate it from that of <code class="docutils literal notranslate"><span class="pre">tablea.columna</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">LABEL_STYLE_DISAMBIGUATE_ONLY</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table1</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;table1&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columna&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columnb&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;table2&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columna&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columnc&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="p">,</span> <span class="n">table2</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table2</span><span class="p">,</span> <span class="n">true</span><span class="p">())</span><span class="o">.</span><span class="n">set_label_style</span><span class="p">(</span><span class="n">LABEL_STYLE_DISAMBIGUATE_ONLY</span><span class="p">))</span>
<span class="go">SELECT table1.columna, table1.columnb, table2.columna AS columna_1, table2.columnc</span>
<span class="go">FROM table1 JOIN table2 ON true</span></pre></div>
</div>
<p>Used with the <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.set_label_style" title="sqlalchemy.sql.expression.GenerativeSelect.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.set_label_style()</span></code></a> method,
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a> is the default labeling style
for all SELECT statements outside of <a class="reference internal" href="../glossary.html#term-1.x-style"><span class="xref std std-term">1.x style</span></a> ORM queries.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.LABEL_STYLE_NONE">
<span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">LABEL_STYLE_NONE</span></span><em class="property"> <span class="pre">=</span> <span class="pre">symbol('LABEL_STYLE_NONE')</span></em><a class="headerlink" href="#sqlalchemy.sql.expression.LABEL_STYLE_NONE" title="Permalink to this definition">¶</a></dt>
<dd><p>Label style indicating no automatic labeling should be applied to the
columns clause of a SELECT statement.</p>
<p>Below, the columns named <code class="docutils literal notranslate"><span class="pre">columna</span></code> are both rendered as is, meaning that
the name <code class="docutils literal notranslate"><span class="pre">columna</span></code> can only refer to the first occurrence of this name
within a result set, as well as if the statement were used as a subquery:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">LABEL_STYLE_NONE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table1</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;table1&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columna&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columnb&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;table2&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columna&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columnc&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="p">,</span> <span class="n">table2</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table2</span><span class="p">,</span> <span class="n">true</span><span class="p">())</span><span class="o">.</span><span class="n">set_label_style</span><span class="p">(</span><span class="n">LABEL_STYLE_NONE</span><span class="p">))</span>
<span class="go">SELECT table1.columna, table1.columnb, table2.columna, table2.columnc</span>
<span class="go">FROM table1 JOIN table2 ON true</span></pre></div>
</div>
<p>Used with the <a class="reference internal" href="#sqlalchemy.sql.expression.Select.set_label_style" title="sqlalchemy.sql.expression.Select.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.set_label_style()</span></code></a> method.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL">
<span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></span><em class="property"> <span class="pre">=</span> <span class="pre">symbol('LABEL_STYLE_TABLENAME_PLUS_COL')</span></em><a class="headerlink" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="Permalink to this definition">¶</a></dt>
<dd><p>Label style indicating all columns should be labeled as
<code class="docutils literal notranslate"><span class="pre">&lt;tablename&gt;_&lt;columnname&gt;</span></code> when generating the columns clause of a SELECT
statement, to disambiguate same-named columns referenced from different
tables, aliases, or subqueries.</p>
<p>Below, all column names are given a label so that the two same-named
columns <code class="docutils literal notranslate"><span class="pre">columna</span></code> are disambiguated as <code class="docutils literal notranslate"><span class="pre">table1_columna</span></code> and
<a href="#id2"><span class="problematic" id="id3">``</span></a>table2_columna`:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">table</span><span class="p">,</span> <span class="n">column</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">LABEL_STYLE_TABLENAME_PLUS_COL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table1</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;table1&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columna&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columnb&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span> <span class="o">=</span> <span class="n">table</span><span class="p">(</span><span class="s2">&quot;table2&quot;</span><span class="p">,</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columna&quot;</span><span class="p">),</span> <span class="n">column</span><span class="p">(</span><span class="s2">&quot;columnc&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="n">table1</span><span class="p">,</span> <span class="n">table2</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">table2</span><span class="p">,</span> <span class="n">true</span><span class="p">())</span><span class="o">.</span><span class="n">set_label_style</span><span class="p">(</span><span class="n">LABEL_STYLE_TABLENAME_PLUS_COL</span><span class="p">))</span>
<span class="go">SELECT table1.columna AS table1_columna, table1.columnb AS table1_columnb, table2.columna AS table2_columna, table2.columnc AS table2_columnc</span>
<span class="go">FROM table1 JOIN table2 ON true</span></pre></div>
</div>
<p>Used with the <a class="reference internal" href="#sqlalchemy.sql.expression.GenerativeSelect.set_label_style" title="sqlalchemy.sql.expression.GenerativeSelect.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GenerativeSelect.set_label_style()</span></code></a> method.
Equivalent to the legacy method <code class="docutils literal notranslate"><span class="pre">Select.apply_labels()</span></code>;
<a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL" title="sqlalchemy.sql.expression.LABEL_STYLE_TABLENAME_PLUS_COL"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_TABLENAME_PLUS_COL</span></code></a> is SQLAlchemy’s legacy
auto-labeling style. <a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a> provides a
less intrusive approach to disambiguation of same-named column expressions.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="sqlalchemy.sql.expression.LABEL_STYLE_DEFAULT">
<span class="sig-prename descclassname"><span class="pre">sqlalchemy.sql.expression.</span></span><span class="sig-name descname"><span class="pre">LABEL_STYLE_DEFAULT</span></span><a class="headerlink" href="#sqlalchemy.sql.expression.LABEL_STYLE_DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd><p>The default label style, refers to <a class="reference internal" href="#sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY" title="sqlalchemy.sql.expression.LABEL_STYLE_DISAMBIGUATE_ONLY"><code class="xref py py-data docutils literal notranslate"><span class="pre">LABEL_STYLE_DISAMBIGUATE_ONLY</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.set_label_style" title="sqlalchemy.sql.expression.Select.set_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.set_label_style()</span></code></a></p>
<p><a class="reference internal" href="#sqlalchemy.sql.expression.Select.get_label_style" title="sqlalchemy.sql.expression.Select.get_label_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Select.get_label_style()</span></code></a></p>
</div>
</dd></dl>

</section>
</section>

    </div>

</div>

<div id="docs-bottom-navigation" class="docs-navigation-links, withsidebar">
        Previous:
        <a href="operators.html" title="previous chapter">Operator Reference</a>
        Next:
        <a href="dml.html" title="next chapter">Insert, Updates, Deletes</a>

    <div id="docs-copyright">
        &copy; <a href="../copyright.html">Copyright</a> 2007-2021, the SQLAlchemy authors and contributors.


    <p><b>flambé!</b> the dragon and <b><i>The Alchemist</i></b> image designs created and generously donated by <a href="https://github.com/vmalloc">Rotem Yaari</a>.</p>

        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.1.2.
    </div>
</div>

</div>



        
        

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.4.23',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>

    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>

    <!-- begin iterate through sphinx environment script_files -->
        <script type="text/javascript" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    <!-- end iterate through sphinx environment script_files -->

    <script type="text/javascript" src="../_static/detectmobile.js"></script>
    <script type="text/javascript" src="../_static/init.js"></script>


    </body>
</html>


